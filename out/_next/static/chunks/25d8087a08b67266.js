(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94922,t=>{"use strict";t.s(["Map",()=>a1],94922);var e=t.i(75410),i=t.i(60583),s=t.i(87486),a=t.i(23585),n=t.i(91967),r=t.i(2183),o=t.i(12028),h=t.i(82509),l=t.i(87760),c=t.i(19520),u=t.i(24186);let d=["top","right","bottom","left"],f=Math.min,p=Math.max,m=Math.round,g=Math.floor,_=t=>({x:t,y:t}),y={left:"right",right:"left",bottom:"top",top:"bottom"},M={start:"end",end:"start"};function v(t,e){return"function"==typeof t?t(e):t}function w(t){return t.split("-")[0]}function x(t){return t.split("-")[1]}function S(t){return"x"===t?"y":"x"}function E(t){return"y"===t?"height":"width"}let b=new Set(["top","bottom"]);function P(t){return b.has(w(t))?"y":"x"}function G(t){return t.replace(/start|end/g,t=>M[t])}let A=["left","right"],C=["right","left"],N=["top","bottom"],I=["bottom","top"];function R(t){return t.replace(/left|right|bottom|top/g,t=>y[t])}function T(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function O(t){let{x:e,y:i,width:s,height:a}=t;return{width:s,height:a,top:i,left:e,right:e+s,bottom:i+a,x:e,y:i}}function k(t,e,i){let s,{reference:a,floating:n}=t,r=P(e),o=S(P(e)),h=E(o),l=w(e),c="y"===r,u=a.x+a.width/2-n.width/2,d=a.y+a.height/2-n.height/2,f=a[h]/2-n[h]/2;switch(l){case"top":s={x:u,y:a.y-n.height};break;case"bottom":s={x:u,y:a.y+a.height};break;case"right":s={x:a.x+a.width,y:d};break;case"left":s={x:a.x-n.width,y:d};break;default:s={x:a.x,y:a.y}}switch(x(e)){case"start":s[o]-=f*(i&&c?-1:1);break;case"end":s[o]+=f*(i&&c?-1:1)}return s}let j=async(t,e,i)=>{let{placement:s="bottom",strategy:a="absolute",middleware:n=[],platform:r}=i,o=n.filter(Boolean),h=await (null==r.isRTL?void 0:r.isRTL(e)),l=await r.getElementRects({reference:t,floating:e,strategy:a}),{x:c,y:u}=k(l,s,h),d=s,f={},p=0;for(let i=0;i<o.length;i++){let{name:n,fn:m}=o[i],{x:g,y:_,data:y,reset:M}=await m({x:c,y:u,initialPlacement:s,placement:d,strategy:a,middlewareData:f,rects:l,platform:r,elements:{reference:t,floating:e}});c=null!=g?g:c,u=null!=_?_:u,f={...f,[n]:{...f[n],...y}},M&&p<=50&&(p++,"object"==typeof M&&(M.placement&&(d=M.placement),M.rects&&(l=!0===M.rects?await r.getElementRects({reference:t,floating:e,strategy:a}):M.rects),{x:c,y:u}=k(l,d,h)),i=-1)}return{x:c,y:u,placement:d,strategy:a,middlewareData:f}};async function L(t,e){var i;void 0===e&&(e={});let{x:s,y:a,platform:n,rects:r,elements:o,strategy:h}=t,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:d=!1,padding:f=0}=v(e,t),p=T(f),m=o[d?"floating"===u?"reference":"floating":u],g=O(await n.getClippingRect({element:null==(i=await (null==n.isElement?void 0:n.isElement(m)))||i?m:m.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(o.floating)),boundary:l,rootBoundary:c,strategy:h})),_="floating"===u?{x:s,y:a,width:r.floating.width,height:r.floating.height}:r.reference,y=await (null==n.getOffsetParent?void 0:n.getOffsetParent(o.floating)),M=await (null==n.isElement?void 0:n.isElement(y))&&await (null==n.getScale?void 0:n.getScale(y))||{x:1,y:1},w=O(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:y,strategy:h}):_);return{top:(g.top-w.top+p.top)/M.y,bottom:(w.bottom-g.bottom+p.bottom)/M.y,left:(g.left-w.left+p.left)/M.x,right:(w.right-g.right+p.right)/M.x}}function D(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function z(t){return d.some(e=>t[e]>=0)}let q=new Set(["left","top"]);async function B(t,e){let{placement:i,platform:s,elements:a}=t,n=await (null==s.isRTL?void 0:s.isRTL(a.floating)),r=w(i),o=x(i),h="y"===P(i),l=q.has(r)?-1:1,c=n&&h?-1:1,u=v(e,t),{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof p&&(f="end"===o?-1*p:p),h?{x:f*c,y:d*l}:{x:d*l,y:f*c}}function F(){return"undefined"!=typeof window}function U(t){return X(t)?(t.nodeName||"").toLowerCase():"#document"}function W(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function H(t){var e;return null==(e=(X(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function X(t){return!!F()&&(t instanceof Node||t instanceof W(t).Node)}function Y(t){return!!F()&&(t instanceof Element||t instanceof W(t).Element)}function K(t){return!!F()&&(t instanceof HTMLElement||t instanceof W(t).HTMLElement)}function Q(t){return!!F()&&"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof W(t).ShadowRoot)}let V=new Set(["inline","contents"]);function Z(t){let{overflow:e,overflowX:i,overflowY:s,display:a}=th(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!V.has(a)}let J=new Set(["table","td","th"]),$=[":popover-open",":modal"];function tt(t){return $.some(e=>{try{return t.matches(e)}catch(t){return!1}})}let te=["transform","translate","scale","rotate","perspective"],ti=["transform","translate","scale","rotate","perspective","filter"],ts=["paint","layout","strict","content"];function ta(t){let e=tn(),i=Y(t)?th(t):t;return te.some(t=>!!i[t]&&"none"!==i[t])||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||ti.some(t=>(i.willChange||"").includes(t))||ts.some(t=>(i.contain||"").includes(t))}function tn(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let tr=new Set(["html","body","#document"]);function to(t){return tr.has(U(t))}function th(t){return W(t).getComputedStyle(t)}function tl(t){return Y(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tc(t){if("html"===U(t))return t;let e=t.assignedSlot||t.parentNode||Q(t)&&t.host||H(t);return Q(e)?e.host:e}function tu(t,e,i){var s;void 0===e&&(e=[]),void 0===i&&(i=!0);let a=function t(e){let i=tc(e);return to(i)?e.ownerDocument?e.ownerDocument.body:e.body:K(i)&&Z(i)?i:t(i)}(t),n=a===(null==(s=t.ownerDocument)?void 0:s.body),r=W(a);if(n){let t=td(r);return e.concat(r,r.visualViewport||[],Z(a)?a:[],t&&i?tu(t):[])}return e.concat(a,tu(a,[],i))}function td(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tf(t){let e=th(t),i=parseFloat(e.width)||0,s=parseFloat(e.height)||0,a=K(t),n=a?t.offsetWidth:i,r=a?t.offsetHeight:s,o=m(i)!==n||m(s)!==r;return o&&(i=n,s=r),{width:i,height:s,$:o}}function tp(t){return Y(t)?t:t.contextElement}function tm(t){let e=tp(t);if(!K(e))return _(1);let i=e.getBoundingClientRect(),{width:s,height:a,$:n}=tf(e),r=(n?m(i.width):i.width)/s,o=(n?m(i.height):i.height)/a;return r&&Number.isFinite(r)||(r=1),o&&Number.isFinite(o)||(o=1),{x:r,y:o}}let tg=_(0);function t_(t){let e=W(t);return tn()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:tg}function ty(t,e,i,s){var a;void 0===e&&(e=!1),void 0===i&&(i=!1);let n=t.getBoundingClientRect(),r=tp(t),o=_(1);e&&(s?Y(s)&&(o=tm(s)):o=tm(t));let h=(void 0===(a=i)&&(a=!1),s&&(!a||s===W(r))&&a)?t_(r):_(0),l=(n.left+h.x)/o.x,c=(n.top+h.y)/o.y,u=n.width/o.x,d=n.height/o.y;if(r){let t=W(r),e=s&&Y(s)?W(s):s,i=t,a=td(i);for(;a&&s&&e!==i;){let t=tm(a),e=a.getBoundingClientRect(),s=th(a),n=e.left+(a.clientLeft+parseFloat(s.paddingLeft))*t.x,r=e.top+(a.clientTop+parseFloat(s.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,d*=t.y,l+=n,c+=r,a=td(i=W(a))}}return O({width:u,height:d,x:l,y:c})}function tM(t,e){let i=tl(t).scrollLeft;return e?e.left+i:ty(H(t)).left+i}function tv(t,e){let i=t.getBoundingClientRect();return{x:i.left+e.scrollLeft-tM(t,i),y:i.top+e.scrollTop}}let tw=new Set(["absolute","fixed"]);function tx(t,e,i){let s;if("viewport"===e)s=function(t,e){let i=W(t),s=H(t),a=i.visualViewport,n=s.clientWidth,r=s.clientHeight,o=0,h=0;if(a){n=a.width,r=a.height;let t=tn();(!t||t&&"fixed"===e)&&(o=a.offsetLeft,h=a.offsetTop)}let l=tM(s);if(l<=0){let t=s.ownerDocument,e=t.body,i=getComputedStyle(e),a="CSS1Compat"===t.compatMode&&parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0,r=Math.abs(s.clientWidth-e.clientWidth-a);r<=25&&(n-=r)}else l<=25&&(n+=l);return{width:n,height:r,x:o,y:h}}(t,i);else if("document"===e)s=function(t){let e=H(t),i=tl(t),s=t.ownerDocument.body,a=p(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),n=p(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight),r=-i.scrollLeft+tM(t),o=-i.scrollTop;return"rtl"===th(s).direction&&(r+=p(e.clientWidth,s.clientWidth)-a),{width:a,height:n,x:r,y:o}}(H(t));else if(Y(e))s=function(t,e){let i=ty(t,!0,"fixed"===e),s=i.top+t.clientTop,a=i.left+t.clientLeft,n=K(t)?tm(t):_(1),r=t.clientWidth*n.x,o=t.clientHeight*n.y;return{width:r,height:o,x:a*n.x,y:s*n.y}}(e,i);else{let i=t_(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return O(s)}function tS(t){return"static"===th(t).position}function tE(t,e){if(!K(t)||"fixed"===th(t).position)return null;if(e)return e(t);let i=t.offsetParent;return H(t)===i&&(i=i.ownerDocument.body),i}function tb(t,e){var i;let s=W(t);if(tt(t))return s;if(!K(t)){let e=tc(t);for(;e&&!to(e);){if(Y(e)&&!tS(e))return e;e=tc(e)}return s}let a=tE(t,e);for(;a&&(i=a,J.has(U(i)))&&tS(a);)a=tE(a,e);return a&&to(a)&&tS(a)&&!ta(a)?s:a||function(t){let e=tc(t);for(;K(e)&&!to(e);){if(ta(e))return e;if(tt(e))break;e=tc(e)}return null}(t)||s}let tP=async function(t){let e=this.getOffsetParent||tb,i=this.getDimensions,s=await i(t.floating);return{reference:function(t,e,i){let s=K(e),a=H(e),n="fixed"===i,r=ty(t,!0,n,e),o={scrollLeft:0,scrollTop:0},h=_(0);if(s||!s&&!n)if(("body"!==U(e)||Z(a))&&(o=tl(e)),s){let t=ty(e,!0,n,e);h.x=t.x+e.clientLeft,h.y=t.y+e.clientTop}else a&&(h.x=tM(a));n&&!s&&a&&(h.x=tM(a));let l=!a||s||n?_(0):tv(a,o);return{x:r.left+o.scrollLeft-h.x-l.x,y:r.top+o.scrollTop-h.y-l.y,width:r.width,height:r.height}}(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},tG={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:s,strategy:a}=t,n="fixed"===a,r=H(s),o=!!e&&tt(e.floating);if(s===r||o&&n)return i;let h={scrollLeft:0,scrollTop:0},l=_(1),c=_(0),u=K(s);if((u||!u&&!n)&&(("body"!==U(s)||Z(r))&&(h=tl(s)),K(s))){let t=ty(s);l=tm(s),c.x=t.x+s.clientLeft,c.y=t.y+s.clientTop}let d=!r||u||n?_(0):tv(r,h);return{width:i.width*l.x,height:i.height*l.y,x:i.x*l.x-h.scrollLeft*l.x+c.x+d.x,y:i.y*l.y-h.scrollTop*l.y+c.y+d.y}},getDocumentElement:H,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:s,strategy:a}=t,n=[..."clippingAncestors"===i?tt(e)?[]:function(t,e){let i=e.get(t);if(i)return i;let s=tu(t,[],!1).filter(t=>Y(t)&&"body"!==U(t)),a=null,n="fixed"===th(t).position,r=n?tc(t):t;for(;Y(r)&&!to(r);){let e=th(r),i=ta(r);i||"fixed"!==e.position||(a=null),(n?!i&&!a:!i&&"static"===e.position&&!!a&&tw.has(a.position)||Z(r)&&!i&&function t(e,i){let s=tc(e);return!(s===i||!Y(s)||to(s))&&("fixed"===th(s).position||t(s,i))}(t,r))?s=s.filter(t=>t!==r):a=e,r=tc(r)}return e.set(t,s),s}(e,this._c):[].concat(i),s],r=n[0],o=n.reduce((t,i)=>{let s=tx(e,i,a);return t.top=p(s.top,t.top),t.right=f(s.right,t.right),t.bottom=f(s.bottom,t.bottom),t.left=p(s.left,t.left),t},tx(e,r,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:tb,getElementRects:tP,getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){let{width:e,height:i}=tf(t);return{width:e,height:i}},getScale:tm,isElement:Y,isRTL:function(t){return"rtl"===th(t).direction}};function tA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}let tC=t=>({name:"arrow",options:t,async fn(e){let{x:i,y:s,placement:a,rects:n,platform:r,elements:o,middlewareData:h}=e,{element:l,padding:c=0}=v(t,e)||{};if(null==l)return{};let u=T(c),d={x:i,y:s},m=S(P(a)),g=E(m),_=await r.getDimensions(l),y="y"===m,M=y?"clientHeight":"clientWidth",w=n.reference[g]+n.reference[m]-d[m]-n.floating[g],b=d[m]-n.reference[m],G=await (null==r.getOffsetParent?void 0:r.getOffsetParent(l)),A=G?G[M]:0;A&&await (null==r.isElement?void 0:r.isElement(G))||(A=o.floating[M]||n.floating[g]);let C=A/2-_[g]/2-1,N=f(u[y?"top":"left"],C),I=f(u[y?"bottom":"right"],C),R=A-_[g]-I,O=A/2-_[g]/2+(w/2-b/2),k=p(N,f(O,R)),j=!h.arrow&&null!=x(a)&&O!==k&&n.reference[g]/2-(O<N?N:I)-_[g]/2<0,L=j?O<N?O-N:O-R:0;return{[m]:d[m]+L,data:{[m]:k,centerOffset:O-k-L,...j&&{alignmentOffset:L}},reset:j}}});var tN=t.i(62855),tI="undefined"!=typeof document?a.useLayoutEffect:function(){};function tR(t,e){let i,s,a;if(t===e)return!0;if(typeof t!=typeof e)return!1;if("function"==typeof t&&t.toString()===e.toString())return!0;if(t&&e&&"object"==typeof t){if(Array.isArray(t)){if((i=t.length)!==e.length)return!1;for(s=i;0!=s--;)if(!tR(t[s],e[s]))return!1;return!0}if((i=(a=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(s=i;0!=s--;)if(!({}).hasOwnProperty.call(e,a[s]))return!1;for(s=i;0!=s--;){let i=a[s];if(("_owner"!==i||!t.$$typeof)&&!tR(t[i],e[i]))return!1}return!0}return t!=t&&e!=e}function tT(t){return"undefined"==typeof window?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tO(t,e){let i=tT(t);return Math.round(e*i)/i}function tk(t){let e=a.useRef(t);return tI(()=>{e.current=t}),e}var tj=t.i(84157),tL=a.forwardRef((t,i)=>{let{children:s,width:a=10,height:n=5,...r}=t;return(0,e.jsx)(tj.Primitive.svg,{...r,ref:i,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:(0,e.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tL.displayName="Arrow";var tD=t.i(49592),tz=t.i(14272),tq="Popper",[tB,tF]=(0,o.createContextScope)(tq),[tU,tW]=tB(tq),tH=t=>{let{__scopePopper:i,children:s}=t,[n,r]=a.useState(null);return(0,e.jsx)(tU,{scope:i,anchor:n,onAnchorChange:r,children:s})};tH.displayName=tq;var tX="PopperAnchor",tY=a.forwardRef((t,i)=>{let{__scopePopper:s,virtualRef:n,...o}=t,h=tW(tX,s),l=a.useRef(null),c=(0,r.useComposedRefs)(i,l),u=a.useRef(null);return a.useEffect(()=>{let t=u.current;u.current=(null==n?void 0:n.current)||l.current,t!==u.current&&h.onAnchorChange(u.current)}),n?null:(0,e.jsx)(tj.Primitive.div,{...o,ref:c})});tY.displayName=tX;var tK="PopperContent",[tQ,tV]=tB(tK),tZ=a.forwardRef((t,i)=>{var s,n,o,h,l,c,u,d;let{__scopePopper:m,side:_="bottom",sideOffset:y=0,align:M="center",alignOffset:b=0,arrowPadding:T=0,avoidCollisions:O=!0,collisionBoundary:k=[],collisionPadding:F=0,sticky:U="partial",hideWhenDetached:W=!1,updatePositionStrategy:X="optimized",onPlaced:Y,...K}=t,Q=tW(tK,m),[V,Z]=a.useState(null),J=(0,r.useComposedRefs)(i,t=>Z(t)),[$,tt]=a.useState(null),te=function(t){let[e,i]=a.useState(void 0);return(0,tz.useLayoutEffect)(()=>{if(t){i({width:t.offsetWidth,height:t.offsetHeight});let e=new ResizeObserver(e=>{let s,a;if(!Array.isArray(e)||!e.length)return;let n=e[0];if("borderBoxSize"in n){let t=n.borderBoxSize,e=Array.isArray(t)?t[0]:t;s=e.inlineSize,a=e.blockSize}else s=t.offsetWidth,a=t.offsetHeight;i({width:s,height:a})});return e.observe(t,{box:"border-box"}),()=>e.unobserve(t)}i(void 0)},[t]),e}($),ti=null!=(u=null==te?void 0:te.width)?u:0,ts=null!=(d=null==te?void 0:te.height)?d:0,ta="number"==typeof F?F:{top:0,right:0,bottom:0,left:0,...F},tn=Array.isArray(k)?k:[k],tr=tn.length>0,to={padding:ta,boundary:tn.filter(t1),altBoundary:tr},{refs:th,floatingStyles:tl,placement:tc,isPositioned:td,middlewareData:tf}=function(t){void 0===t&&(t={});let{placement:e="bottom",strategy:i="absolute",middleware:s=[],platform:n,elements:{reference:r,floating:o}={},transform:h=!0,whileElementsMounted:l,open:c}=t,[u,d]=a.useState({x:0,y:0,strategy:i,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=a.useState(s);tR(f,s)||p(s);let[m,g]=a.useState(null),[_,y]=a.useState(null),M=a.useCallback(t=>{t!==S.current&&(S.current=t,g(t))},[]),v=a.useCallback(t=>{t!==E.current&&(E.current=t,y(t))},[]),w=r||m,x=o||_,S=a.useRef(null),E=a.useRef(null),b=a.useRef(u),P=null!=l,G=tk(l),A=tk(n),C=tk(c),N=a.useCallback(()=>{if(!S.current||!E.current)return;let t={placement:e,strategy:i,middleware:f};A.current&&(t.platform=A.current),((t,e,i)=>{let s=new Map,a={platform:tG,...i},n={...a.platform,_c:s};return j(t,e,{...a,platform:n})})(S.current,E.current,t).then(t=>{let e={...t,isPositioned:!1!==C.current};I.current&&!tR(b.current,e)&&(b.current=e,tN.flushSync(()=>{d(e)}))})},[f,e,i,A,C]);tI(()=>{!1===c&&b.current.isPositioned&&(b.current.isPositioned=!1,d(t=>({...t,isPositioned:!1})))},[c]);let I=a.useRef(!1);tI(()=>(I.current=!0,()=>{I.current=!1}),[]),tI(()=>{if(w&&(S.current=w),x&&(E.current=x),w&&x){if(G.current)return G.current(w,x,N);N()}},[w,x,N,G,P]);let R=a.useMemo(()=>({reference:S,floating:E,setReference:M,setFloating:v}),[M,v]),T=a.useMemo(()=>({reference:w,floating:x}),[w,x]),O=a.useMemo(()=>{let t={position:i,left:0,top:0};if(!T.floating)return t;let e=tO(T.floating,u.x),s=tO(T.floating,u.y);return h?{...t,transform:"translate("+e+"px, "+s+"px)",...tT(T.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:e,top:s}},[i,h,T.floating,u.x,u.y]);return a.useMemo(()=>({...u,update:N,refs:R,elements:T,floatingStyles:O}),[u,N,R,T,O])}({strategy:"fixed",placement:_+("center"!==M?"-"+M:""),whileElementsMounted:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,e,i,s){let a;void 0===s&&(s={});let{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:h="function"==typeof IntersectionObserver,animationFrame:l=!1}=s,c=tp(t),u=n||r?[...c?tu(c):[],...tu(e)]:[];u.forEach(t=>{n&&t.addEventListener("scroll",i,{passive:!0}),r&&t.addEventListener("resize",i)});let d=c&&h?function(t,e){let i,s=null,a=H(t);function n(){var t;clearTimeout(i),null==(t=s)||t.disconnect(),s=null}return!function r(o,h){void 0===o&&(o=!1),void 0===h&&(h=1),n();let l=t.getBoundingClientRect(),{left:c,top:u,width:d,height:m}=l;if(o||e(),!d||!m)return;let _=g(u),y=g(a.clientWidth-(c+d)),M={rootMargin:-_+"px "+-y+"px "+-g(a.clientHeight-(u+m))+"px "+-g(c)+"px",threshold:p(0,f(1,h))||1},v=!0;function w(e){let s=e[0].intersectionRatio;if(s!==h){if(!v)return r();s?r(!1,s):i=setTimeout(()=>{r(!1,1e-7)},1e3)}1!==s||tA(l,t.getBoundingClientRect())||r(),v=!1}try{s=new IntersectionObserver(w,{...M,root:a.ownerDocument})}catch(t){s=new IntersectionObserver(w,M)}s.observe(t)}(!0),n}(c,i):null,m=-1,_=null;o&&(_=new ResizeObserver(t=>{let[s]=t;s&&s.target===c&&_&&(_.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var t;null==(t=_)||t.observe(e)})),i()}),c&&!l&&_.observe(c),_.observe(e));let y=l?ty(t):null;return l&&function e(){let s=ty(t);y&&!tA(y,s)&&i(),y=s,a=requestAnimationFrame(e)}(),i(),()=>{var t;u.forEach(t=>{n&&t.removeEventListener("scroll",i),r&&t.removeEventListener("resize",i)}),null==d||d(),null==(t=_)||t.disconnect(),_=null,l&&cancelAnimationFrame(a)}}(...e,{animationFrame:"always"===X})},elements:{reference:Q.anchor},middleware:[((t,e)=>({...function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var i,s;let{x:a,y:n,placement:r,middlewareData:o}=e,h=await B(e,t);return r===(null==(i=o.offset)?void 0:i.placement)&&null!=(s=o.arrow)&&s.alignmentOffset?{}:{x:a+h.x,y:n+h.y,data:{...h,placement:r}}}}}(t),options:[t,e]}))({mainAxis:y+ts,alignmentAxis:b}),O&&((t,e)=>({...function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){let{x:i,y:s,placement:a}=e,{mainAxis:n=!0,crossAxis:r=!1,limiter:o={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...h}=v(t,e),l={x:i,y:s},c=await L(e,h),u=P(w(a)),d=S(u),m=l[d],g=l[u];if(n){let t="y"===d?"top":"left",e="y"===d?"bottom":"right",i=m+c[t],s=m-c[e];m=p(i,f(m,s))}if(r){let t="y"===u?"top":"left",e="y"===u?"bottom":"right",i=g+c[t],s=g-c[e];g=p(i,f(g,s))}let _=o.fn({...e,[d]:m,[u]:g});return{..._,data:{x:_.x-i,y:_.y-s,enabled:{[d]:n,[u]:r}}}}}}(t),options:[t,e]}))({mainAxis:!0,crossAxis:!1,limiter:"partial"===U?((t,e)=>({...function(t){return void 0===t&&(t={}),{options:t,fn(e){let{x:i,y:s,placement:a,rects:n,middlewareData:r}=e,{offset:o=0,mainAxis:h=!0,crossAxis:l=!0}=v(t,e),c={x:i,y:s},u=P(a),d=S(u),f=c[d],p=c[u],m=v(o,e),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(h){let t="y"===d?"height":"width",e=n.reference[d]-n.floating[t]+g.mainAxis,i=n.reference[d]+n.reference[t]-g.mainAxis;f<e?f=e:f>i&&(f=i)}if(l){var _,y;let t="y"===d?"width":"height",e=q.has(w(a)),i=n.reference[u]-n.floating[t]+(e&&(null==(_=r.offset)?void 0:_[u])||0)+(e?0:g.crossAxis),s=n.reference[u]+n.reference[t]+(e?0:(null==(y=r.offset)?void 0:y[u])||0)-(e?g.crossAxis:0);p<i?p=i:p>s&&(p=s)}return{[d]:f,[u]:p}}}}(t),options:[t,e]}))():void 0,...to}),O&&((t,e)=>({...function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i,s,a,n,r;let{placement:o,middlewareData:h,rects:l,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...M}=v(t,e);if(null!=(i=h.arrow)&&i.alignmentOffset)return{};let b=w(o),T=P(c),O=w(c)===c,k=await (null==u.isRTL?void 0:u.isRTL(d.floating)),j=m||(O||!y?[R(c)]:function(t){let e=R(t);return[G(t),e,G(e)]}(c)),D="none"!==_;!m&&D&&j.push(...function(t,e,i,s){let a=x(t),n=function(t,e,i){switch(t){case"top":case"bottom":if(i)return e?C:A;return e?A:C;case"left":case"right":return e?N:I;default:return[]}}(w(t),"start"===i,s);return a&&(n=n.map(t=>t+"-"+a),e&&(n=n.concat(n.map(G)))),n}(c,y,_,k));let z=[c,...j],q=await L(e,M),B=[],F=(null==(s=h.flip)?void 0:s.overflows)||[];if(f&&B.push(q[b]),p){let t=function(t,e,i){void 0===i&&(i=!1);let s=x(t),a=S(P(t)),n=E(a),r="x"===a?s===(i?"end":"start")?"right":"left":"start"===s?"bottom":"top";return e.reference[n]>e.floating[n]&&(r=R(r)),[r,R(r)]}(o,l,k);B.push(q[t[0]],q[t[1]])}if(F=[...F,{placement:o,overflows:B}],!B.every(t=>t<=0)){let t=((null==(a=h.flip)?void 0:a.index)||0)+1,e=z[t];if(e&&("alignment"!==p||T===P(e)||F.every(t=>P(t.placement)!==T||t.overflows[0]>0)))return{data:{index:t,overflows:F},reset:{placement:e}};let i=null==(n=F.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:n.placement;if(!i)switch(g){case"bestFit":{let t=null==(r=F.filter(t=>{if(D){let e=P(t.placement);return e===T||"y"===e}return!0}).map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:r[0];t&&(i=t);break}case"initialPlacement":i=c}if(o!==i)return{reset:{placement:i}}}return{}}}}(t),options:[t,e]}))({...to}),((t,e)=>({...function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var i,s;let a,n,{placement:r,rects:o,platform:h,elements:l}=e,{apply:c=()=>{},...u}=v(t,e),d=await L(e,u),m=w(r),g=x(r),_="y"===P(r),{width:y,height:M}=o.floating;"top"===m||"bottom"===m?(a=m,n=g===(await (null==h.isRTL?void 0:h.isRTL(l.floating))?"start":"end")?"left":"right"):(n=m,a="end"===g?"top":"bottom");let S=M-d.top-d.bottom,E=y-d.left-d.right,b=f(M-d[a],S),G=f(y-d[n],E),A=!e.middlewareData.shift,C=b,N=G;if(null!=(i=e.middlewareData.shift)&&i.enabled.x&&(N=E),null!=(s=e.middlewareData.shift)&&s.enabled.y&&(C=S),A&&!g){let t=p(d.left,0),e=p(d.right,0),i=p(d.top,0),s=p(d.bottom,0);_?N=y-2*(0!==t||0!==e?t+e:p(d.left,d.right)):C=M-2*(0!==i||0!==s?i+s:p(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:C});let I=await h.getDimensions(l.floating);return y!==I.width||M!==I.height?{reset:{rects:!0}}:{}}}}(t),options:[t,e]}))({...to,apply:t=>{let{elements:e,rects:i,availableWidth:s,availableHeight:a}=t,{width:n,height:r}=i.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width","".concat(s,"px")),o.setProperty("--radix-popper-available-height","".concat(a,"px")),o.setProperty("--radix-popper-anchor-width","".concat(n,"px")),o.setProperty("--radix-popper-anchor-height","".concat(r,"px"))}}),$&&((t,e)=>({...(t=>({name:"arrow",options:t,fn(e){let{element:i,padding:s}="function"==typeof t?t(e):t;return i&&({}).hasOwnProperty.call(i,"current")?null!=i.current?tC({element:i.current,padding:s}).fn(e):{}:i?tC({element:i,padding:s}).fn(e):{}}}))(t),options:[t,e]}))({element:$,padding:T}),t2({arrowWidth:ti,arrowHeight:ts}),W&&((t,e)=>({...function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){let{rects:i}=e,{strategy:s="referenceHidden",...a}=v(t,e);switch(s){case"referenceHidden":{let t=D(await L(e,{...a,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:z(t)}}}case"escaped":{let t=D(await L(e,{...a,altBoundary:!0}),i.floating);return{data:{escapedOffsets:t,escaped:z(t)}}}default:return{}}}}}(t),options:[t,e]}))({strategy:"referenceHidden",...to})]}),[tm,tg]=t4(tc),t_=(0,tD.useCallbackRef)(Y);(0,tz.useLayoutEffect)(()=>{td&&(null==t_||t_())},[td,t_]);let tM=null==(s=tf.arrow)?void 0:s.x,tv=null==(n=tf.arrow)?void 0:n.y,tw=(null==(o=tf.arrow)?void 0:o.centerOffset)!==0,[tx,tS]=a.useState();return(0,tz.useLayoutEffect)(()=>{V&&tS(window.getComputedStyle(V).zIndex)},[V]),(0,e.jsx)("div",{ref:th.setFloating,"data-radix-popper-content-wrapper":"",style:{...tl,transform:td?tl.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tx,"--radix-popper-transform-origin":[null==(h=tf.transformOrigin)?void 0:h.x,null==(l=tf.transformOrigin)?void 0:l.y].join(" "),...(null==(c=tf.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,e.jsx)(tQ,{scope:m,placedSide:tm,onArrowChange:tt,arrowX:tM,arrowY:tv,shouldHideArrow:tw,children:(0,e.jsx)(tj.Primitive.div,{"data-side":tm,"data-align":tg,...K,ref:J,style:{...K.style,animation:td?void 0:"none"}})})})});tZ.displayName=tK;var tJ="PopperArrow",t$={top:"bottom",right:"left",bottom:"top",left:"right"},t0=a.forwardRef(function(t,i){let{__scopePopper:s,...a}=t,n=tV(tJ,s),r=t$[n.placedSide];return(0,e.jsx)("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:(0,e.jsx)(tL,{...a,ref:i,style:{...a.style,display:"block"}})})});function t1(t){return null!==t}t0.displayName=tJ;var t2=t=>({name:"transformOrigin",options:t,fn(e){var i,s,a,n,r;let{placement:o,rects:h,middlewareData:l}=e,c=(null==(i=l.arrow)?void 0:i.centerOffset)!==0,u=c?0:t.arrowWidth,d=c?0:t.arrowHeight,[f,p]=t4(o),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!=(n=null==(s=l.arrow)?void 0:s.x)?n:0)+u/2,_=(null!=(r=null==(a=l.arrow)?void 0:a.y)?r:0)+d/2,y="",M="";return"bottom"===f?(y=c?m:"".concat(g,"px"),M="".concat(-d,"px")):"top"===f?(y=c?m:"".concat(g,"px"),M="".concat(h.floating.height+d,"px")):"right"===f?(y="".concat(-d,"px"),M=c?m:"".concat(_,"px")):"left"===f&&(y="".concat(h.floating.width+d,"px"),M=c?m:"".concat(_,"px")),{data:{x:y,y:M}}}});function t4(t){let[e,i="center"]=t.split("-");return[e,i]}var t3=t.i(78389),t8=t.i(54007),t5=t.i(81808),t6=t.i(19433),t9=t.i(73772),t7=t.i(17548),et="Popover",[ee,ei]=(0,o.createContextScope)(et,[tF]),es=tF(),[ea,en]=ee(et),er=t=>{let{__scopePopover:i,children:s,open:n,defaultOpen:r,onOpenChange:o,modal:h=!1}=t,l=es(i),c=a.useRef(null),[d,f]=a.useState(!1),[p,m]=(0,t6.useControllableState)({prop:n,defaultProp:null!=r&&r,onChange:o,caller:et});return(0,e.jsx)(tH,{...l,children:(0,e.jsx)(ea,{scope:i,contentId:(0,u.useId)(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(t=>!t),[m]),hasCustomAnchor:d,onCustomAnchorAdd:a.useCallback(()=>f(!0),[]),onCustomAnchorRemove:a.useCallback(()=>f(!1),[]),modal:h,children:s})})};er.displayName=et;var eo="PopoverAnchor";a.forwardRef((t,i)=>{let{__scopePopover:s,...n}=t,r=en(eo,s),o=es(s),{onCustomAnchorAdd:h,onCustomAnchorRemove:l}=r;return a.useEffect(()=>(h(),()=>l()),[h,l]),(0,e.jsx)(tY,{...o,...n,ref:i})}).displayName=eo;var eh="PopoverTrigger",el=a.forwardRef((t,i)=>{let{__scopePopover:s,...a}=t,o=en(eh,s),h=es(s),l=(0,r.useComposedRefs)(i,o.triggerRef),c=(0,e.jsx)(tj.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ew(o.open),...a,ref:l,onClick:(0,n.composeEventHandlers)(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:(0,e.jsx)(tY,{asChild:!0,...h,children:c})});el.displayName=eh;var ec="PopoverPortal",[eu,ed]=ee(ec,{forceMount:void 0}),ef=t=>{let{__scopePopover:i,forceMount:s,children:a,container:n}=t,r=en(ec,i);return(0,e.jsx)(eu,{scope:i,forceMount:s,children:(0,e.jsx)(t8.Presence,{present:s||r.open,children:(0,e.jsx)(t3.Portal,{asChild:!0,container:n,children:a})})})};ef.displayName=ec;var ep="PopoverContent",em=a.forwardRef((t,i)=>{let s=ed(ep,t.__scopePopover),{forceMount:a=s.forceMount,...n}=t,r=en(ep,t.__scopePopover);return(0,e.jsx)(t8.Presence,{present:a||r.open,children:r.modal?(0,e.jsx)(e_,{...n,ref:i}):(0,e.jsx)(ey,{...n,ref:i})})});em.displayName=ep;var eg=(0,t5.createSlot)("PopoverContent.RemoveScroll"),e_=a.forwardRef((t,i)=>{let s=en(ep,t.__scopePopover),o=a.useRef(null),h=(0,r.useComposedRefs)(i,o),l=a.useRef(!1);return a.useEffect(()=>{let t=o.current;if(t)return(0,t9.hideOthers)(t)},[]),(0,e.jsx)(t7.RemoveScroll,{as:eg,allowPinchZoom:!0,children:(0,e.jsx)(eM,{...t,ref:h,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(t.onCloseAutoFocus,t=>{var e;t.preventDefault(),l.current||null==(e=s.triggerRef.current)||e.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(t.onPointerDownOutside,t=>{let e=t.detail.originalEvent,i=0===e.button&&!0===e.ctrlKey;l.current=2===e.button||i},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n.composeEventHandlers)(t.onFocusOutside,t=>t.preventDefault(),{checkForDefaultPrevented:!1})})})}),ey=a.forwardRef((t,i)=>{let s=en(ep,t.__scopePopover),n=a.useRef(!1),r=a.useRef(!1);return(0,e.jsx)(eM,{...t,ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var i,a;null==(i=t.onCloseAutoFocus)||i.call(t,e),e.defaultPrevented||(n.current||null==(a=s.triggerRef.current)||a.focus(),e.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:e=>{var i,a;null==(i=t.onInteractOutside)||i.call(t,e),e.defaultPrevented||(n.current=!0,"pointerdown"===e.detail.originalEvent.type&&(r.current=!0));let o=e.target;(null==(a=s.triggerRef.current)?void 0:a.contains(o))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&r.current&&e.preventDefault()}})}),eM=a.forwardRef((t,i)=>{let{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:r,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...m}=t,g=en(ep,s),_=es(s);return(0,l.useFocusGuards)(),(0,e.jsx)(c.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:r,children:(0,e.jsx)(h.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:(0,e.jsx)(tZ,{"data-state":ew(g.open),role:"dialog",id:g.contentId,..._,...m,ref:i,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ev="PopoverClose";function ew(t){return t?"open":"closed"}a.forwardRef((t,i)=>{let{__scopePopover:s,...a}=t,r=en(ev,s);return(0,e.jsx)(tj.Primitive.button,{type:"button",...a,ref:i,onClick:(0,n.composeEventHandlers)(t.onClick,()=>r.onOpenChange(!1))})}).displayName=ev,a.forwardRef((t,i)=>{let{__scopePopover:s,...a}=t,n=es(s);return(0,e.jsx)(t0,{...n,...a,ref:i})}).displayName="PopoverArrow";var ex=t.i(75157);function eS(t){let{...i}=t;return(0,e.jsx)(er,{"data-slot":"popover",...i})}function eE(t){let{...i}=t;return(0,e.jsx)(el,{"data-slot":"popover-trigger",...i})}function eb(t){let{className:i,align:s="center",sideOffset:a=4,...n}=t;return(0,e.jsx)(ef,{children:(0,e.jsx)(em,{"data-slot":"popover-content",align:s,sideOffset:a,className:(0,ex.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",i),...n})})}var eP=t.i(50112),eG=Math.PI/2,eA=Math.PI/4,eC=2*Math.PI,eN={};eN.greenwich=0,eN.lisbon=-9.131906111111,eN.paris=2.337229166667,eN.bogota=-74.080916666667,eN.madrid=-3.687938888889,eN.rome=12.452333333333,eN.bern=7.439583333333,eN.jakarta=106.807719444444,eN.ferro=-17.666666666667,eN.brussels=4.367975,eN.stockholm=18.058277777778,eN.athens=23.7163375,eN.oslo=10.722916666667;let eI={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var eR=/[\s_\-\/\(\)]/g;function eT(t,e){if(t[e])return t[e];for(var i,s=Object.keys(t),a=e.toLowerCase().replace(eR,""),n=-1;++n<s.length;)if((i=s[n]).toLowerCase().replace(eR,"")===a)return t[i]}function eO(t){var e,i,s,a={},n=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),r={proj:"projName",datum:"datumCode",rf:function(t){a.rf=parseFloat(t)},lat_0:function(t){a.lat0=.017453292519943295*t},lat_1:function(t){a.lat1=.017453292519943295*t},lat_2:function(t){a.lat2=.017453292519943295*t},lat_ts:function(t){a.lat_ts=.017453292519943295*t},lon_0:function(t){a.long0=.017453292519943295*t},lon_1:function(t){a.long1=.017453292519943295*t},lon_2:function(t){a.long2=.017453292519943295*t},alpha:function(t){a.alpha=.017453292519943295*parseFloat(t)},gamma:function(t){a.rectified_grid_angle=.017453292519943295*parseFloat(t)},lonc:function(t){a.longc=.017453292519943295*t},x_0:function(t){a.x0=parseFloat(t)},y_0:function(t){a.y0=parseFloat(t)},k_0:function(t){a.k0=parseFloat(t)},k:function(t){a.k0=parseFloat(t)},a:function(t){a.a=parseFloat(t)},b:function(t){a.b=parseFloat(t)},r:function(t){a.a=a.b=parseFloat(t)},r_a:function(){a.R_A=!0},zone:function(t){a.zone=parseInt(t,10)},south:function(){a.utmSouth=!0},towgs84:function(t){a.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){a.to_meter=parseFloat(t)},units:function(t){a.units=t;var e=eT(eI,t);e&&(a.to_meter=e.to_meter)},from_greenwich:function(t){a.from_greenwich=.017453292519943295*t},pm:function(t){a.from_greenwich=.017453292519943295*(eT(eN,t)||parseFloat(t))},nadgrids:function(t){"@null"===t?a.datumCode="none":a.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(a.axis=t)},approx:function(){a.approx=!0}};for(e in n)i=n[e],e in r?"function"==typeof(s=r[e])?s(i):a[s]=i:a[e]=i;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a}let ek=class{static getId(t){let e=t.find(t=>Array.isArray(t)&&"ID"===t[0]);return e&&e.length>=3?{authority:e[1],code:parseInt(e[2],10)}:null}static convertUnit(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unit";if(!t||t.length<3)return{type:e,name:"unknown",conversion_factor:null};let i=t[1],s=parseFloat(t[2])||null,a=t.find(t=>Array.isArray(t)&&"ID"===t[0]);return{type:e,name:i,conversion_factor:s,id:a?{authority:a[1],code:parseInt(a[2],10)}:null}}static convertAxis(t){let e,i=t[1]||"Unknown",s=i.match(/^\((.)\)$/);if(s){let t=s[1].toUpperCase();if("E"===t)e="east";else if("N"===t)e="north";else if("U"===t)e="up";else throw Error("Unknown axis abbreviation: ".concat(t))}else e=t[2]?t[2].toLowerCase():"unknown";let a=t.find(t=>Array.isArray(t)&&"ORDER"===t[0]),n=a?parseInt(a[1],10):null,r=t.find(t=>Array.isArray(t)&&("LENGTHUNIT"===t[0]||"ANGLEUNIT"===t[0]||"SCALEUNIT"===t[0]));return{name:i,direction:e,unit:this.convertUnit(r),order:n}}static extractAxes(t){return t.filter(t=>Array.isArray(t)&&"AXIS"===t[0]).map(t=>this.convertAxis(t)).sort((t,e)=>(t.order||0)-(e.order||0))}static convert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t[0]){case"PROJCRS":e.type="ProjectedCRS",e.name=t[1],e.base_crs=t.find(t=>Array.isArray(t)&&"BASEGEOGCRS"===t[0])?this.convert(t.find(t=>Array.isArray(t)&&"BASEGEOGCRS"===t[0])):null,e.conversion=t.find(t=>Array.isArray(t)&&"CONVERSION"===t[0])?this.convert(t.find(t=>Array.isArray(t)&&"CONVERSION"===t[0])):null;let i=t.find(t=>Array.isArray(t)&&"CS"===t[0]);i&&(e.coordinate_system={type:i[1],axis:this.extractAxes(t)});let s=t.find(t=>Array.isArray(t)&&"LENGTHUNIT"===t[0]);if(s){let t=this.convertUnit(s);e.coordinate_system.unit=t}e.id=this.getId(t);break;case"BASEGEOGCRS":case"GEOGCRS":e.type="GeographicCRS",e.name=t[1];let a=t.find(t=>Array.isArray(t)&&("DATUM"===t[0]||"ENSEMBLE"===t[0]));if(a){let i=this.convert(a);"ENSEMBLE"===a[0]?e.datum_ensemble=i:e.datum=i;let s=t.find(t=>Array.isArray(t)&&"PRIMEM"===t[0]);s&&"Greenwich"!==s[1]&&(i.prime_meridian={name:s[1],longitude:parseFloat(s[2])})}e.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(t)},e.id=this.getId(t);break;case"DATUM":e.type="GeodeticReferenceFrame",e.name=t[1],e.ellipsoid=t.find(t=>Array.isArray(t)&&"ELLIPSOID"===t[0])?this.convert(t.find(t=>Array.isArray(t)&&"ELLIPSOID"===t[0])):null;break;case"ENSEMBLE":e.type="DatumEnsemble",e.name=t[1],e.members=t.filter(t=>Array.isArray(t)&&"MEMBER"===t[0]).map(t=>({type:"DatumEnsembleMember",name:t[1],id:this.getId(t)}));let n=t.find(t=>Array.isArray(t)&&"ENSEMBLEACCURACY"===t[0]);n&&(e.accuracy=parseFloat(n[1]));let r=t.find(t=>Array.isArray(t)&&"ELLIPSOID"===t[0]);r&&(e.ellipsoid=this.convert(r)),e.id=this.getId(t);break;case"ELLIPSOID":e.type="Ellipsoid",e.name=t[1],e.semi_major_axis=parseFloat(t[2]),e.inverse_flattening=parseFloat(t[3]),t.find(t=>Array.isArray(t)&&"LENGTHUNIT"===t[0])&&this.convert(t.find(t=>Array.isArray(t)&&"LENGTHUNIT"===t[0]),e);break;case"CONVERSION":e.type="Conversion",e.name=t[1],e.method=t.find(t=>Array.isArray(t)&&"METHOD"===t[0])?this.convert(t.find(t=>Array.isArray(t)&&"METHOD"===t[0])):null,e.parameters=t.filter(t=>Array.isArray(t)&&"PARAMETER"===t[0]).map(t=>this.convert(t));break;case"METHOD":e.type="Method",e.name=t[1],e.id=this.getId(t);break;case"PARAMETER":e.type="Parameter",e.name=t[1],e.value=parseFloat(t[2]),e.unit=this.convertUnit(t.find(t=>Array.isArray(t)&&("LENGTHUNIT"===t[0]||"ANGLEUNIT"===t[0]||"SCALEUNIT"===t[0]))),e.id=this.getId(t);break;case"BOUNDCRS":e.type="BoundCRS";let o=t.find(t=>Array.isArray(t)&&"SOURCECRS"===t[0]);if(o){let t=o.find(t=>Array.isArray(t));e.source_crs=t?this.convert(t):null}let h=t.find(t=>Array.isArray(t)&&"TARGETCRS"===t[0]);if(h){let t=h.find(t=>Array.isArray(t));e.target_crs=t?this.convert(t):null}let l=t.find(t=>Array.isArray(t)&&"ABRIDGEDTRANSFORMATION"===t[0]);l?e.transformation=this.convert(l):e.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(e.type="Transformation",e.name=t[1],e.method=t.find(t=>Array.isArray(t)&&"METHOD"===t[0])?this.convert(t.find(t=>Array.isArray(t)&&"METHOD"===t[0])):null,e.parameters=t.filter(t=>Array.isArray(t)&&("PARAMETER"===t[0]||"PARAMETERFILE"===t[0])).map(t=>"PARAMETER"===t[0]?this.convert(t):"PARAMETERFILE"===t[0]?{name:t[1],value:t[2],id:{authority:"EPSG",code:8656}}:void 0),7===e.parameters.length){let t=e.parameters[6];"Scale difference"===t.name&&(t.value=Math.round((t.value-1)*1e12)/1e6)}e.id=this.getId(t);break;case"AXIS":e.coordinate_system||(e.coordinate_system={type:"unspecified",axis:[]}),e.coordinate_system.axis.push(this.convertAxis(t));break;case"LENGTHUNIT":let c=this.convertUnit(t,"LinearUnit");e.coordinate_system&&e.coordinate_system.axis&&e.coordinate_system.axis.forEach(t=>{t.unit||(t.unit=c)}),c.conversion_factor&&1!==c.conversion_factor&&e.semi_major_axis&&(e.semi_major_axis={value:e.semi_major_axis,unit:c});break;default:e.keyword=t[0]}return e}},ej=class extends ek{static convert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.convert(t,e),e.coordinate_system&&"Cartesian"===e.coordinate_system.subtype&&delete e.coordinate_system,e.usage&&delete e.usage,e}},eL=class extends ek{static convert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super.convert(t,e);let i=t.find(t=>Array.isArray(t)&&"CS"===t[0]);i&&(e.coordinate_system={subtype:i[1],axis:this.extractAxes(t)});let s=t.find(t=>Array.isArray(t)&&"USAGE"===t[0]);if(s){let t=s.find(t=>Array.isArray(t)&&"SCOPE"===t[0]),i=s.find(t=>Array.isArray(t)&&"AREA"===t[0]),a=s.find(t=>Array.isArray(t)&&"BBOX"===t[0]);e.usage={},t&&(e.usage.scope=t[1]),i&&(e.usage.area=i[1]),a&&(e.usage.bbox=a.slice(1))}return e}};var eD=/\s/,ez=/[A-Za-z]/,eq=/[A-Za-z84_]/,eB=/[,\]]/,eF=/[\d\.E\-\+]/;function eU(t){if("string"!=typeof t)throw Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function eW(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var s=e?{}:t,a=i.reduce(function(t,e){return eH(e,t),t},s);e&&(t[e]=a)}function eH(t,e){if(!Array.isArray(t)){e[t]=!0;return}var i,s=t.shift();if("PARAMETER"===s&&(s=t.shift()),1===t.length){if(Array.isArray(t[0])){e[s]={},eH(t[0],e[s]);return}e[s]=t[0];return}if(!t.length){e[s]=!0;return}if("TOWGS84"===s){e[s]=t;return}if("AXIS"===s){s in e||(e[s]=[]),e[s].push(t);return}switch(!Array.isArray(s)&&(e[s]={}),s){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[s]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&eH(t[2],e[s]);return;case"SPHEROID":case"ELLIPSOID":e[s]={name:t[0],a:t[1],rf:t[2]},4===t.length&&eH(t[3],e[s]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],eW(e,s,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],eW(e,s,t),e[s].type=s;return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return eH(t,e[s]);return eW(e,s,t)}}function eX(t){return .017453292519943295*t}function eY(t){let e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&("albers conic equal area"===e||"lambert azimuthal equal area"===e)&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&("stereographic south pole"===e||"polar stereographic (variant b)"===e)?(t.lat0=eX(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&("polar stereographic"===e||"polar stereographic (variant a)"===e)&&(t.lat_ts=t.lat0,t.lat0=eX(t.lat0>0?90:-90),delete t.lat1)}function eK(t){let e={units:null,to_meter:void 0};return"string"==typeof t?(e.units=t.toLowerCase(),"metre"===e.units&&(e.units="meter"),"meter"===e.units&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function eQ(t){return"object"==typeof t?t.value*t.unit.conversion_factor:t}function eV(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=eQ(t.ellipsoid.semi_major_axis),void 0!==t.ellipsoid.inverse_flattening?e.rf=t.ellipsoid.inverse_flattening:void 0!==t.ellipsoid.semi_major_axis&&void 0!==t.ellipsoid.semi_minor_axis&&(e.rf=e.a/(e.a-eQ(t.ellipsoid.semi_minor_axis))))}function eZ(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&"object"==typeof t?("BoundCRS"===t.type?(eZ(t.source_crs,e),t.transformation&&(t.transformation.method&&"NTv2"===t.transformation.method.name?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(t=>t.value))):(Object.keys(t).forEach(i=>{let s=t[i];if(null!==s)switch(i){case"name":if(e.srsCode)break;e.name=s,e.srsCode=s;break;case"type":"GeographicCRS"===s?e.projName="longlat":"ProjectedCRS"===s&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":s.ellipsoid&&(e.ellps=s.ellipsoid.name,eV(s,e)),s.prime_meridian&&(e.from_greenwich=s.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=s.name,eV(s,e);break;case"prime_meridian":e.long0=(s.longitude||0)*Math.PI/180;break;case"coordinate_system":if(s.axis){if(e.axis=s.axis.map(t=>{let e=t.direction;if("east"===e)return"e";if("north"===e)return"n";if("west"===e)return"w";if("south"===e)return"s";throw Error("Unknown axis direction: ".concat(e))}).join("")+"u",s.unit){let{units:t,to_meter:i}=eK(s.unit);e.units=t,e.to_meter=i}else if(s.axis[0]&&s.axis[0].unit){let{units:t,to_meter:i}=eK(s.axis[0].unit);e.units=t,e.to_meter=i}}break;case"id":s.authority&&s.code&&(e.title=s.authority+":"+s.code);break;case"conversion":s.method&&s.method.name&&(e.projName=s.method.name),s.parameters&&s.parameters.forEach(t=>{let i=t.name.toLowerCase().replace(/\s+/g,"_"),s=t.value;t.unit&&t.unit.conversion_factor?e[i]=s*t.unit.conversion_factor:"degree"===t.unit?e[i]=s*Math.PI/180:e[i]=s});break;case"unit":s.name&&(e.units=s.name.toLowerCase(),"metre"===e.units&&(e.units="meter")),s.conversion_factor&&(e.to_meter=s.conversion_factor);break;case"base_crs":eZ(s,e),e.datumCode=s.id?s.id.authority+"_"+s.id.code:s.name}}),void 0!==e.latitude_of_false_origin&&(e.lat0=e.latitude_of_false_origin),void 0!==e.longitude_of_false_origin&&(e.long0=e.longitude_of_false_origin),void 0!==e.latitude_of_standard_parallel&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),void 0!==e.latitude_of_1st_standard_parallel&&(e.lat1=e.latitude_of_1st_standard_parallel),void 0!==e.latitude_of_2nd_standard_parallel&&(e.lat2=e.latitude_of_2nd_standard_parallel),void 0!==e.latitude_of_projection_centre&&(e.lat0=e.latitude_of_projection_centre),void 0!==e.longitude_of_projection_centre&&(e.longc=e.longitude_of_projection_centre),void 0!==e.easting_at_false_origin&&(e.x0=e.easting_at_false_origin),void 0!==e.northing_at_false_origin&&(e.y0=e.northing_at_false_origin),void 0!==e.latitude_of_natural_origin&&(e.lat0=e.latitude_of_natural_origin),void 0!==e.longitude_of_natural_origin&&(e.long0=e.longitude_of_natural_origin),void 0!==e.longitude_of_origin&&(e.long0=e.longitude_of_origin),void 0!==e.false_easting&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),void 0!==e.false_northing&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),void 0!==e.standard_parallel_1&&(e.lat1=e.standard_parallel_1),void 0!==e.standard_parallel_2&&(e.lat2=e.standard_parallel_2),void 0!==e.scale_factor_at_natural_origin&&(e.k0=e.scale_factor_at_natural_origin),void 0!==e.scale_factor_at_projection_centre&&(e.k0=e.scale_factor_at_projection_centre),void 0!==e.scale_factor_on_pseudo_standard_parallel&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),void 0!==e.azimuth&&(e.alpha=e.azimuth),void 0!==e.azimuth_at_projection_centre&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),eY(e)),e):t}eU.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;eD.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case -1:return}},eU.prototype.afterquote=function(t){if('"'===t){this.word+='"',this.state=4;return}if(eB.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},eU.prototype.afterItem=function(t){if(","===t){null!==this.word&&this.currentObject.push(this.word),this.word=null,this.state=1;return}if("]"===t){this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=-1);return}},eU.prototype.number=function(t){if(eF.test(t)){this.word+=t;return}if(eB.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw Error("havn't handled \""+t+'" in number yet, index '+this.place)},eU.prototype.quoted=function(t){if('"'===t){this.state=5;return}this.word+=t},eU.prototype.keyword=function(t){if(eq.test(t)){this.word+=t;return}if("["===t){var e=[];e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=1;return}if(eB.test(t))return void this.afterItem(t);throw Error("havn't handled \""+t+'" in keyword yet, index '+this.place)},eU.prototype.neutral=function(t){if(ez.test(t)){this.word=t,this.state=2;return}if('"'===t){this.word="",this.state=4;return}if(eF.test(t)){this.word=t,this.state=3;return}if(eB.test(t))return void this.afterItem(t);throw Error("havn't handled \""+t+'" in neutral yet, index '+this.place)},eU.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw Error('unable to parse string "'+this.text+'". State is '+this.state)};var eJ=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function e$(t){if("object"==typeof t)return eZ(t);let e=function(t){let e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}(t);var i=new eU(t).output();if("WKT2"===e)return eZ(function(t){return("2019"==(t.find(t=>Array.isArray(t)&&"USAGE"===t[0])?"2019":(t.find(t=>Array.isArray(t)&&"CS"===t[0])||"BOUNDCRS"===t[0]||"PROJCRS"===t[0]||t[0],"2015"))?eL:ej).convert(t)}(i));var s=i[0],a={};return eH(i,a),!function t(e){for(var i=Object.keys(e),s=0,a=i.length;s<a;++s){var n=i[s];-1!==eJ.indexOf(n)&&function(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var i="",s=0,a=t.AXIS.length;s<a;++s){var n=[t.AXIS[s][0].toLowerCase(),t.AXIS[s][1].toLowerCase()];-1!==n[0].indexOf("north")||("y"===n[0]||"lat"===n[0])&&"north"===n[1]?i+="n":-1!==n[0].indexOf("south")||("y"===n[0]||"lat"===n[0])&&"south"===n[1]?i+="s":-1!==n[0].indexOf("east")||("x"===n[0]||"lon"===n[0])&&"east"===n[1]?i+="e":(-1!==n[0].indexOf("west")||("x"===n[0]||"lon"===n[0])&&"west"===n[1])&&(i+="w")}2===i.length&&(i+="u"),3===i.length&&(t.axis=i)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var r=t.GEOGCS;function o(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(r=t),r&&(r.DATUM?t.datumCode=r.DATUM.name.toLowerCase():t.datumCode=r.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_1949"===t.datumCode&&(t.datumCode="nzgd49"),("wgs_1984"===t.datumCode||"world_geodetic_system_1984"===t.datumCode)&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"belge_1972"===t.datumCode&&(t.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(t.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=r.DATUM.SPHEROID.a,t.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(t.datum_params=r.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=eX(t.rectified_grid_angle)),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",eX],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",eX],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",eX],["lat0","latitude_of_origin",eX],["lat0","standard_parallel_1",eX],["lat1","standard_parallel_1",eX],["lat2","standard_parallel_2",eX],["azimuth","Azimuth"],["alpha","azimuth",eX],["srsCode","name"]].forEach(function(e){var i,s;return i=e[0],s=e[1],void(!(i in t)&&s in t&&(t[i]=t[s],3===e.length&&(t[i]=e[2](t[i]))))}),eY(t)}(e[n]),"object"==typeof e[n]&&t(e[n])}}(a),a[s]}function e0(t){var e=this;if(2==arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?e0[t]=eO(arguments[1]):e0[t]=e$(arguments[1]):e0[t]=i}else if(1==arguments.length){if(Array.isArray(t))return t.map(function(t){return Array.isArray(t)?e0.apply(e,t):e0(t)});if("string"==typeof t){if(t in e0)return e0[t]}else"EPSG"in t?e0["EPSG:"+t.EPSG]=t:"ESRI"in t?e0["ESRI:"+t.ESRI]=t:"IAU2000"in t?e0["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(e0);var e1=["3857","900913","3785","102113"];let e2=function(t){if("string"==typeof t){if(t in e0)return e0[t];if(0!==t.indexOf("+")&&-1!==t.indexOf("[")||"object"==typeof t&&!("srsCode"in t)){var e=e$(t);if(function(t){var e=eT(t,"authority");if(e){var i=eT(e,"epsg");return i&&e1.indexOf(i)>-1}}(e))return e0["EPSG:3857"];var i=function(t){var e=eT(t,"extension");if(e)return eT(e,"proj4")}(e);return i?eO(i):e}if("+"===t[0])return eO(t)}else if(!("projName"in t))return e$(t);else return t};function e4(t,e){var i,s;if(t=t||{},!e)return t;for(s in e)void 0!==(i=e[s])&&(t[s]=i);return t}function e3(t,e,i){var s=t*e;return i/Math.sqrt(1-s*s)}function e8(t){return t<0?-1:1}function e5(t){return 3.14159265359>=Math.abs(t)?t:t-e8(t)*eC}function e6(t,e,i){var s=t*i;return Math.tan(.5*(eG-e))/(s=Math.pow((1-s)/(1+s),.5*t))}function e9(t,e){for(var i,s,a=.5*t,n=eG-2*Math.atan(e),r=0;r<=15;r++)if(s=eG-2*Math.atan(e*Math.pow((1-(i=t*Math.sin(n)))/(1+i),a))-n,n+=s,1e-10>=Math.abs(s))return n;return -9999}function e7(t){return t}var it=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=e3(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,s=t.x,a=t.y;if(57.29577951308232*a>90&&57.29577951308232*a<-90&&57.29577951308232*s>180&&57.29577951308232*s<-180||1e-10>=Math.abs(Math.abs(a)-eG))return null;if(this.sphere)e=this.x0+this.a*this.k0*e5(s-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(eA+.5*a));else{var n=Math.sin(a),r=e6(this.e,a,n);e=this.x0+this.a*this.k0*e5(s-this.long0),i=this.y0-this.a*this.k0*Math.log(r)}return t.x=e,t.y=i,t},inverse:function(t){var e,i=t.x-this.x0,s=t.y-this.y0;if(this.sphere)e=eG-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var a=Math.exp(-s/(this.a*this.k0));if(-9999===(e=e9(this.e,a)))return null}return t.x=e5(this.long0+i/(this.a*this.k0)),t.y=e,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"]},{init:function(){},forward:e7,inverse:e7,names:["longlat","identity"]}],ie={},ii=[];function is(t,e){var i=ii.length;return t.names?(ii[i]=t,t.names.forEach(function(t){ie[t.toLowerCase()]=i}),this):(console.log(e),!0)}function ia(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}let ir={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},io=ir.WGS84;var ih={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var il in ih){var ic=ih[il];ic.datumName&&(ih[ic.datumName]=ic)}let iu=function(t,e,i,s,a,n,r){var o={};return void 0===t||"none"===t?o.datum_type=5:o.datum_type=4,e&&(o.datum_params=e.map(parseFloat),(0!==o.datum_params[0]||0!==o.datum_params[1]||0!==o.datum_params[2])&&(o.datum_type=1),o.datum_params.length>3&&(0!==o.datum_params[3]||0!==o.datum_params[4]||0!==o.datum_params[5]||0!==o.datum_params[6])&&(o.datum_type=2,o.datum_params[3]*=484813681109536e-20,o.datum_params[4]*=484813681109536e-20,o.datum_params[5]*=484813681109536e-20,o.datum_params[6]=o.datum_params[6]/1e6+1)),r&&(o.datum_type=3,o.grids=r),o.a=i,o.b=s,o.es=a,o.ep2=n,o};var id={};async function ip(t,e){for(var i=[],s=await e.getImageCount(),a=s-1;a>=0;a--){var n=await e.getImage(a),r=await n.readRasters(),o=[n.getWidth(),n.getHeight()],h=n.getBoundingBox().map(ig),l=[n.fileDirectory.ModelPixelScale[0],n.fileDirectory.ModelPixelScale[1]].map(ig),c=h[0]+(o[0]-1)*l[0],u=h[3]-(o[1]-1)*l[1],d=r[0],f=r[1],p=[];for(let t=o[1]-1;t>=0;t--)for(let e=o[0]-1;e>=0;e--){var m=t*o[0]+e;p.push([-i_(f[m]),i_(d[m])])}i.push({del:l,lim:o,ll:[-c,u],cvs:p})}var g={header:{nSubgrids:s},subgrids:i};return id[t]=g,g}function im(t){if(0===t.length)return null;var e="@"===t[0];return(e&&(t=t.slice(1)),"null"===t)?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:id[t]||null,isNull:!1}}function ig(t){return t*Math.PI/180}function i_(t){return t/3600*Math.PI/180}function iy(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function iM(t,e){if(!(this instanceof iM))return new iM(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(t){if(t)throw t};var i,s,a,n,r,o,h,l,c=e2(t);if("object"!=typeof c)return void e("Could not parse to valid json: "+t);var u=iM.projections.get(c.projName);if(!u)return void e("Could not get projection name from: "+t);if(c.datumCode&&"none"!==c.datumCode){var d=eT(ih,c.datumCode);d&&(c.datum_params=c.datum_params||(d.towgs84?d.towgs84.split(","):null),c.ellps=d.ellipse,c.datumName=d.datumName?d.datumName:c.datumCode)}c.k0=c.k0||1,c.axis=c.axis||"enu",c.ellps=c.ellps||"wgs84",c.lat1=c.lat1||c.lat0;var f=function(t,e,i,s,a){if(!t){var n=eT(ir,s);n||(n=io),t=n.a,e=n.b,i=n.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||1e-10>Math.abs(t-e))&&(a=!0,e=t),{a:t,b:e,rf:i,sphere:a}}(c.a,c.b,c.rf,c.ellps,c.sphere),p=(i=f.a,s=f.b,f.rf,a=c.R_A,o=((n=i*i)-(r=s*s))/n,h=0,a?(i*=1-o*(.16666666666666666+o*(.04722222222222222+.022156084656084655*o)),n=i*i,o=0):h=Math.sqrt(o),{es:o,e:h,ep2:(n-r)/r}),m=void 0===(l=c.nadgrids)?null:l.split(",").map(im),g=c.datum||iu(c.datumCode,c.datum_params,f.a,f.b,p.es,p.ep2,m);e4(this,c),e4(this,u),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=g,"init"in this&&"function"==typeof this.init&&this.init(),e(null,this)}function iv(t,e,i){var s,a,n,r=t.x,o=t.y,h=t.z?t.z:0;if(o<-eG&&o>-1.001*eG)o=-eG;else if(o>eG&&o<1.001*eG)o=eG;else if(o<-eG)return{x:-1/0,y:-1/0,z:t.z};else if(o>eG)return{x:1/0,y:1/0,z:t.z};return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(o),n=Math.cos(o),{x:((s=i/Math.sqrt(1-a*a*e))+h)*n*Math.cos(r),y:(s+h)*n*Math.sin(r),z:(s*(1-e)+h)*a}}function iw(t,e,i,s){var a,n,r,o,h,l,c,u,d,f,p,m,g,_,y,M=1e-12*1e-12,v=t.x,w=t.y,x=t.z?t.z:0;if(a=Math.sqrt(v*v+w*w),n=Math.sqrt(v*v+w*w+x*x),a/i<1e-12){if(_=0,n/i<1e-12)return y=-s,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(w,v);r=x/n,h=1/Math.sqrt(1-e*(2-e)*(o=a/n)*o),u=o*(1-e)*h,d=r*h,g=0;do g++,c=i/Math.sqrt(1-e*d*d),y=a*u+x*d-c*(1-e*d*d),h=1/Math.sqrt(1-(l=e*c/(c+y))*(2-l)*o*o),f=o*(1-l)*h,m=(p=r*h)*u-f*d,u=f,d=p;while(m*m>M&&g<30)return{x:_,y:Math.atan(p/Math.abs(f)),z:y}}function ix(t){return 1===t||2===t}function iS(t,e,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;var s={x:-i.x,y:i.y},a={x:NaN,y:NaN},n=[];t:for(var r=0;r<t.grids.length;r++){var o=t.grids[r];if(n.push(o.name),o.isNull){a=s;break}if(null===o.grid){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var h=o.grid.subgrids,l=0,c=h.length;l<c;l++){var u=h[l],d=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,f=u.ll[0]-d,p=u.ll[1]-d,m=u.ll[0]+(u.lim[0]-1)*u.del[0]+d,g=u.ll[1]+(u.lim[1]-1)*u.del[1]+d;if(!(p>s.y)&&!(f>s.x)&&!(g<s.y)&&!(m<s.x)&&!isNaN((a=function(t,e,i){var s={x:NaN,y:NaN};if(isNaN(t.x))return s;var a={x:t.x,y:t.y};a.x-=i.ll[0],a.y-=i.ll[1],a.x=e5(a.x-Math.PI)+Math.PI;var n=iE(a,i);if(e){if(isNaN(n.x))return s;n.x=a.x-n.x,n.y=a.y-n.y;var r,o,h=9;do{if(isNaN((o=iE(n,i)).x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}r={x:a.x-(o.x+n.x),y:a.y-(o.y+n.y)},n.x+=r.x,n.y+=r.y}while(h--&&Math.abs(r.x)>1e-12&&Math.abs(r.y)>1e-12)if(h<0)return console.log("Inverse grid shift iterator failed to converge."),s;s.x=e5(n.x+i.ll[0]),s.y=n.y+i.ll[1]}else isNaN(n.x)||(s.x=t.x+n.x,s.y=t.y+n.y);return s}(s,e,u)).x))break t}}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-(57.29577951308232*s.x)+" "+57.29577951308232*s.y+" tried: '"+n+"'"),-1):(i.x=-a.x,i.y=a.y,0)}function iE(t,e){var i,s={x:t.x/e.del[0],y:t.y/e.del[1]},a={x:Math.floor(s.x),y:Math.floor(s.y)},n={x:s.x-a.x,y:s.y-a.y},r={x:NaN,y:NaN};if(a.x<0||a.x>=e.lim[0]||a.y<0||a.y>=e.lim[1])return r;i=a.y*e.lim[0]+a.x;var o={x:e.cvs[i][0],y:e.cvs[i][1]};i++;var h={x:e.cvs[i][0],y:e.cvs[i][1]};i+=e.lim[0];var l={x:e.cvs[i][0],y:e.cvs[i][1]};i--;var c={x:e.cvs[i][0],y:e.cvs[i][1]},u=n.x*n.y,d=n.x*(1-n.y),f=(1-n.x)*(1-n.y),p=(1-n.x)*n.y;return r.x=f*o.x+d*h.x+p*c.x+u*l.x,r.y=f*o.y+d*h.y+p*c.y+u*l.y,r}function ib(t,e,i){var s,a,n,r=i.x,o=i.y,h=i.z||0,l={};for(n=0;n<3;n++)if(!e||2!==n||void 0!==i.z)switch(0===n?(s=r,a=-1!=="ew".indexOf(t.axis[n])?"x":"y"):1===n?(s=o,a=-1!=="ns".indexOf(t.axis[n])?"y":"x"):(s=h,a="z"),t.axis[n]){case"e":case"n":l[a]=s;break;case"w":case"s":l[a]=-s;break;case"u":void 0!==i[a]&&(l.z=s);break;case"d":void 0!==i[a]&&(l.z=-s);break;default:return null}return l}function iP(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function iG(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw TypeError("coordinates must be finite numbers")}function iA(t,e,i,s){var a,n,r,o=void 0!==(i=Array.isArray(i)?iP(i):{x:i.x,y:i.y,z:i.z,m:i.m}).z;if(iG((a=i).x),iG(a.y),t.datum&&e.datum&&((1===(n=t).datum.datum_type||2===n.datum.datum_type||3===n.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==n.datumCode)&&(i=iA(t,r=new iM("WGS84"),i,s),t=r),s&&"enu"!==t.axis&&(i=ib(t,!1,i)),"longlat"===t.projName)i={x:.017453292519943295*i.x,y:.017453292519943295*i.y,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),!(i=t.inverse(i)))return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=function(t,e,i){if(s=t,a=e,!(s.datum_type!==a.datum_type||s.a!==a.a||Math.abs(s.es-a.es)>5e-11)&&(1===s.datum_type?s.datum_params[0]===a.datum_params[0]&&s.datum_params[1]===a.datum_params[1]&&s.datum_params[2]===a.datum_params[2]:2!==s.datum_type||s.datum_params[0]===a.datum_params[0]&&s.datum_params[1]===a.datum_params[1]&&s.datum_params[2]===a.datum_params[2]&&s.datum_params[3]===a.datum_params[3]&&s.datum_params[4]===a.datum_params[4]&&s.datum_params[5]===a.datum_params[5]&&s.datum_params[6]===a.datum_params[6])||5===t.datum_type||5===e.datum_type)return i;var s,a,n=t.a,r=t.es;if(3===t.datum_type){if(0!==iS(t,!1,i))return;n=6378137,r=.0066943799901413165}var o=e.a,h=e.b,l=e.es;if(3===e.datum_type&&(o=6378137,h=6356752.314,l=.0066943799901413165),r===l&&n===o&&!ix(t.datum_type)&&!ix(e.datum_type)||(i=iv(i,r,n),ix(t.datum_type)&&(i=function(t,e,i){if(1===e)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(2===e){var s=i[0],a=i[1],n=i[2],r=i[3],o=i[4],h=i[5],l=i[6];return{x:l*(t.x-h*t.y+o*t.z)+s,y:l*(h*t.x+t.y-r*t.z)+a,z:l*(-o*t.x+r*t.y+t.z)+n}}}(i,t.datum_type,t.datum_params)),ix(e.datum_type)&&(i=function(t,e,i){if(1===e)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(2===e){var s=i[0],a=i[1],n=i[2],r=i[3],o=i[4],h=i[5],l=i[6],c=(t.x-s)/l,u=(t.y-a)/l,d=(t.z-n)/l;return{x:c+h*u-o*d,y:-h*c+u+r*d,z:o*c-r*u+d}}}(i,e.datum_type,e.datum_params)),i=iw(i,l,o,h),3!==e.datum_type||0===iS(e,!0,i)))return i}(t.datum,e.datum,i))return(e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:57.29577951308232*i.x,y:57.29577951308232*i.y,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),s&&"enu"!==e.axis)?ib(e,!0,i):(i&&!o&&delete i.z,i)}iM.projections={start:function(){it.forEach(is)},add:is,get:function(t){if(!t)return!1;var e=t.toLowerCase();if(void 0!==ie[e]&&ii[ie[e]]||(e=ia(e))in ie&&ii[ie[e]])return ii[ie[e]]}},iM.projections.start();var iC=iM("WGS84");function iN(t,e,i,s){var a,n,r;if(Array.isArray(i))return(a=iA(t,e,i,s)||{x:NaN,y:NaN},i.length>2)?(void 0===t.name||"geocent"!==t.name)&&(void 0===e.name||"geocent"!==e.name)?[a.x,a.y].concat(i.slice(2)):"number"==typeof a.z?[a.x,a.y,a.z].concat(i.slice(3)):[a.x,a.y,i[2]].concat(i.slice(3)):[a.x,a.y];return n=iA(t,e,i,s),2===(r=Object.keys(i)).length||r.forEach(function(s){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===s||"y"===s||"z"===s)return}else if("x"===s||"y"===s)return;n[s]=i[s]}),n}function iI(t){return t instanceof iM?t:"object"==typeof t&&"oProj"in t?t.oProj:iM(t)}var iR="AJSAJS",iT="AFAFAF";function iO(t,e){var i,s,a,n,r,o,h,l,c,u,d,f,p,m,g;return e=e||5,i=function(t){var e,i,s,a,n,r,o,h,l=t.lat,c=t.lon,u=ij(l),d=ij(c);h=Math.floor((c+180)/6)+1,180===c&&(h=60),l>=56&&l<64&&c>=3&&c<12&&(h=32),l>=72&&l<84&&(c>=0&&c<9?h=31:c>=9&&c<21?h=33:c>=21&&c<33?h=35:c>=33&&c<42&&(h=37)),o=ij((h-1)*6-180+3),s=6378137/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),a=Math.tan(u)*Math.tan(u),n=.006739496752268451*Math.cos(u)*Math.cos(u);var f=.9996*s*((r=Math.cos(u)*(d-o))+(1-a+n)*r*r*r/6+(5-18*a+a*a+72*n-.39089081163157013)*r*r*r*r*r/120)+5e5,p=.9996*(6378137*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3418046101696858e-24*Math.sin(6*u))+s*Math.tan(u)*(r*r/2+(5-a+9*n+4*n*n)*r*r*r*r/24+(61-58*a+a*a+600*n-2.2240339282485886)*r*r*r*r*r*r/720));return l<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(f),zoneNumber:h,zoneLetter:(i="Z",84>=(e=l)&&e>=72?i="X":72>e&&e>=64?i="W":64>e&&e>=56?i="V":56>e&&e>=48?i="U":48>e&&e>=40?i="T":40>e&&e>=32?i="S":32>e&&e>=24?i="R":24>e&&e>=16?i="Q":16>e&&e>=8?i="P":8>e&&e>=0?i="N":0>e&&e>=-8?i="M":-8>e&&e>=-16?i="L":-16>e&&e>=-24?i="K":-24>e&&e>=-32?i="J":-32>e&&e>=-40?i="H":-40>e&&e>=-48?i="G":-48>e&&e>=-56?i="F":-56>e&&e>=-64?i="E":-64>e&&e>=-72?i="D":-72>e&&e>=-80&&(i="C"),i)}}({lat:t[1],lon:t[0]}),s=e,a="00000"+i.easting,n="00000"+i.northing,i.zoneNumber+i.zoneLetter+(r=i.easting,o=i.northing,h=i.zoneNumber,l=Math.floor(r/1e5),c=Math.floor(o/1e5)%20,u=iz(h)-1,d=iR.charCodeAt(u),f=iT.charCodeAt(u),p=d+l-1,m=f+c,g=!1,p>90&&(p=p-90+65-1,g=!0),(73===p||d<73&&p>73||(p>73||d<73)&&g)&&p++,(79===p||d<79&&p>79||(p>79||d<79)&&g)&&73==++p&&p++,p>90&&(p=p-90+65-1),m>86?(m=m-86+65-1,g=!0):g=!1,(73===m||f<73&&m>73||(m>73||f<73)&&g)&&m++,(79===m||f<79&&m>79||(m>79||f<79)&&g)&&73==++m&&m++,m>86&&(m=m-86+65-1),String.fromCharCode(p)+String.fromCharCode(m))+a.substr(a.length-5,s)+n.substr(n.length-5,s)}function ik(t){var e=iD(iq(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function ij(t){return Math.PI/180*t}function iL(t){return t/Math.PI*180}function iD(t){var e,i,s,a,n,r,o,h,l=t.northing,c=t.easting,u=t.zoneLetter,d=t.zoneNumber;if(d<0||d>60)return null;var f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=l;u<"N"&&(p-=1e7),e=6378137/Math.sqrt(1-.00669438*Math.sin(o=(r=p/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*r)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*r)+151*f*f*f/96*Math.sin(6*r))*Math.sin(o)),i=Math.tan(o)*Math.tan(o),s=.006739496752268451*Math.cos(o)*Math.cos(o),a=6335439.32722994/Math.pow(1-.00669438*Math.sin(o)*Math.sin(o),1.5),n=(c-5e5)/(.9996*e);var m=o-e*Math.tan(o)/a*(n*n/2-(5+3*i+10*s-4*s*s-.06065547077041606)*n*n*n*n/24+(61+90*i+298*s+45*i*i-1.6983531815716497-3*s*s)*n*n*n*n*n*n/720);m=iL(m);var g=(n-(1+2*i+s)*n*n*n/6+(5-2*s+28*i-3*s*s+.05391597401814761+24*i*i)*n*n*n*n*n/120)/Math.cos(o);if(g=(d-1)*6-180+3+iL(g),t.accuracy){var _=iD({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});h={top:_.lat,right:_.lon,bottom:m,left:g}}else h={lat:m,lon:g};return h}function iz(t){var e=t%6;return 0===e&&(e=6),e}function iq(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i,s=t.length,a=null,n="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,r++}var o=parseInt(n,10);if(0===r||r+3>s)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(r++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;a=t.substring(r,r+=2);for(var l=iz(o),c=function(t,e){for(var i=iR.charCodeAt(e-1),s=1e5,a=!1;i!==t.charCodeAt(0);){if(73==++i&&i++,79===i&&i++,i>90){if(a)throw"Bad character: "+t;i=65,a=!0}s+=1e5}return s}(a.charAt(0),l),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=iT.charCodeAt(e-1),s=0,a=!1;i!==t.charCodeAt(0);){if(73==++i&&i++,79===i&&i++,i>86){if(a)throw"Bad character: "+t;i=65,a=!0}s+=1e5}return s}(a.charAt(1),l);u<function(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}(h);)u+=2e6;var d=s-r;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f=d/2,p=0,m=0;return f>0&&(i=1e5/Math.pow(10,f),p=parseFloat(t.substring(r,r+f))*i,m=parseFloat(t.substring(r+f))*i),{easting:p+c,northing:m+u,zoneLetter:h,zoneNumber:o,accuracy:i}}function iB(t,e,i){if(!(this instanceof iB))return new iB(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var s=t.split(",");this.x=parseFloat(s[0]),this.y=parseFloat(s[1]),this.z=parseFloat(s[2])||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function iF(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+.01068115234375*t))),e[1]=t*(.75-t*(.046875+t*(.01953125+.01068115234375*t)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e}function iU(t,e,i,s){return i*=e,e*=e,s[0]*t-i*(s[1]+e*(s[2]+e*(s[3]+e*s[4])))}function iW(t,e,i){for(var s=1/(1-e),a=t,n=20;n;--n){var r=Math.sin(a),o=1-e*r*r;if(o=(iU(a,r,Math.cos(a),i)-t)*(o*Math.sqrt(o))*s,a-=o,1e-10>Math.abs(o))break}return a}iB.fromMGRS=function(t){return new iB(ik(t))},iB.prototype.toMGRS=function(t){return iO([this.x,this.y],t)};let iH={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=iF(this.es),this.ml0=iU(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,s=t.x,a=t.y,n=e5(s-this.long0),r=Math.sin(a),o=Math.cos(a);if(this.es){var h=o*n,l=Math.pow(h,2),c=this.ep2*Math.pow(o,2),u=Math.pow(c,2),d=Math.pow(Math.abs(o)>1e-10?Math.tan(a):0,2),f=Math.pow(d,2);h/=Math.sqrt(1-this.es*Math.pow(r,2));var p=iU(a,r,o,this.en);e=this.a*(this.k0*h*(1+l/6*(1-d+c+l/20*(5-18*d+f+14*c-58*d*c+l/42*(61+179*f-f*d-479*d)))))+this.x0,i=this.a*(this.k0*(p-this.ml0+r*n*h/2*(1+l/12*(5-d+9*c+4*u+l/30*(61+f-58*d+270*c-330*d*c+l/56*(1385+543*f-f*d-3111*d))))))+this.y0}else{var m=o*Math.sin(n);if(1e-10>Math.abs(Math.abs(m)-1))return 93;if(e=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,(m=Math.abs(i=o*Math.cos(n)/Math.sqrt(1-Math.pow(m,2))))>=1)if(m-1>1e-10)return 93;else i=0;else i=Math.acos(i);a<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=e,t.y=i,t},inverse:function(t){var e,i,s,a,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(this.es)if(Math.abs(i=iW(e=this.ml0+r/this.k0,this.es,this.en))<eG){var o=Math.sin(i),h=Math.cos(i),l=Math.abs(h)>1e-10?Math.tan(i):0,c=this.ep2*Math.pow(h,2),u=Math.pow(c,2),d=Math.pow(l,2),f=Math.pow(d,2),p=n*Math.sqrt(e=1-this.es*Math.pow(o,2))/this.k0,m=Math.pow(p,2);e*=l,s=i-e*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*c*d+c-4*u-m/30*(61+90*d-252*c*d+45*f+46*c-m/56*(1385+3633*d+4095*f+1574*f*d)))),a=e5(this.long0+p*(1-m/6*(1+2*d+c-m/20*(5+28*d+24*f+8*c*d+6*c-m/42*(61+662*d+1320*f+720*f*d))))/h)}else s=eG*e8(r),a=0;else{var g=Math.exp(n/this.k0),_=.5*(g-1/g),y=Math.cos(this.lat0+r/this.k0);s=Math.asin(e=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(_,2)))),r<0&&(s=-s),a=0===_&&0===y?0:e5(Math.atan2(_,y)+this.long0)}return t.x=a,t.y=s,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function iX(t){var e=Math.exp(t);return(e-1/e)/2}function iY(t,e){var i=Math.max(t=Math.abs(t),e=Math.abs(e)),s=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(s,2))}function iK(t,e){for(var i,s=2*Math.cos(2*e),a=t.length-1,n=t[a],r=0;--a>=0;)i=-r+s*n+t[a],r=n,n=i;return e+i*Math.sin(2*e)}function iQ(t,e,i){for(var s,a,n,r=Math.sin(e),o=Math.cos(e),h=iX(i),l=s=((s=Math.exp(i))+1/s)/2,c=2*o*l,u=-2*r*h,d=t.length-1,f=t[d],p=0,m=0,g=0;--d>=0;)a=m,n=p,f=-a+c*(m=f)-u*(p=g)+t[d],g=-n+u*m+c*p;return[(c=r*l)*f-(u=o*h)*g,c*g+u*f]}let iV={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(iH.init.apply(this),this.forward=iH.forward,this.inverse=iH.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+-2854/675*e))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+4642/4725*e))))),i*=e,this.cgb[1]=i*(7/3+e*(-1.6+e*(-227/45+e*(2704/315+2323/945*e)))),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+-1522/945*e)))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+73814/2835*e))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+-12686/2835*e))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+-399572/14175*e)),this.cbg[3]=i*(1237/630+e*(-2.4+-24832/14175*e)),i*=e,this.cgb[4]=i*(4174/315+-144838/6237*e),this.cbg[4]=i*(-734/315+109598/31185*e),i*=e,this.cgb[5]=601676/22275*i,this.cbg[5]=444337/155925*i,i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+-96199/604800*e))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+7891/37800*e))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+1118711/3870720*e)))),this.gtu[1]=i*(13/48+e*(-.6+e*(557/1440+e*(281/630+-1983433/1935360*e)))),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+-5569/90720*e))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+167603/181440*e))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+830251/7257600*e)),this.gtu[3]=i*(49561/161280+e*(-179/168+6601661/7257600*e)),i*=e,this.utg[4]=i*(-4583/161280+108847/3991680*e),this.gtu[4]=i*(34729/80640+-3418889/1995840*e),i*=e,this.utg[5]=-0x13b12f5/0x26115000*i,this.gtu[5]=.6650675310896665*i;var s=iK(this.cbg,this.lat0);this.Zb=-this.Qn*(s+function(t,e){for(var i,s=2*Math.cos(e),a=t.length-1,n=t[a],r=0;--a>=0;)i=-r+s*n+t[a],r=n,n=i;return Math.sin(e)*i}(this.gtu,2*s))},forward:function(t){var e,i,s,a,n,r,o,h=e5(t.x-this.long0),l=t.y,c=Math.sin(l=iK(this.cbg,l)),u=Math.cos(l),d=Math.sin(h),f=Math.cos(h);l=Math.atan2(c,f*u),i=0==(n=(a=1+(s=(i=Math.abs(e=Math.tan(h=Math.atan2(d*u,iY(c,u*f)))))*(1+i/(iY(1,i)+1))))-1)?s:s*Math.log(a)/n,h=e<0?-i:i;var p=iQ(this.gtu,2*l,2*h);return l+=p[0],2.623395162778>=Math.abs(h+=p[1])?(r=this.a*(this.Qn*h)+this.x0,o=this.a*(this.Qn*l+this.Zb)+this.y0):(r=1/0,o=1/0),t.x=r,t.y=o,t},inverse:function(t){var e,i,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(a=(a-this.Zb)/this.Qn,2.623395162778>=Math.abs(s/=this.Qn)){var n=iQ(this.utg,2*a,2*s);a+=n[0],s+=n[1],s=Math.atan(iX(s));var r=Math.sin(a),o=Math.cos(a),h=Math.sin(s),l=Math.cos(s);a=Math.atan2(r*l,iY(h,l*o)),e=e5((s=Math.atan2(h,l*o))+this.long0),i=iK(this.cgb,a)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]},iZ={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor((e5(e)+Math.PI)*30/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*.017453292519943295,this.x0=5e5,this.y0=1e7*!!this.utmSouth,this.k0=.9996,iV.init.apply(this),this.forward=iV.forward,this.inverse=iV.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function iJ(t,e){return Math.pow((1-t)/(1+t),e)}let i$={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+eA)/(Math.pow(Math.tan(.5*this.lat0+eA),this.C)*iJ(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+eA),this.C)*iJ(this.e*Math.sin(i),this.ratexp))-eG,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+eA)/this.K,1/this.C),a=20;a>0&&!(1e-14>Math.abs((i=2*Math.atan(s*iJ(this.e*Math.sin(t.y),-.5*this.e))-eG)-t.y));--a)t.y=i;return a?(t.x=e,t.y=i,t):null},names:["gauss"]},i0={init:function(){i$.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,s,a;return t.x=e5(t.x-this.long0),i$.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),s=Math.cos(t.x),t.x=(a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*s))*i*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*i*s),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,s,a,n;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=iY(t.x,t.y)){var r=2*Math.atan2(n,this.R2);e=Math.sin(r),a=Math.asin((i=Math.cos(r))*this.sinc0+t.y*e*this.cosc0/n),s=Math.atan2(t.x*e,n*this.cosc0*i-t.y*this.sinc0*e)}else a=this.phic0,s=0;return t.x=s,t.y=a,i$.inverse.apply(this,[t]),t.x=e5(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};function i1(t,e,i){return Math.tan(.5*(eG+t))*Math.pow((1-(e*=i))/(1+e),.5*i)}let i2={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&1e-10>=Math.abs(this.coslat0)&&(this.k0=.5*(1+e8(this.lat0)*Math.sin(this.lat_ts))):(1e-10>=Math.abs(this.coslat0)&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&1e-10>=Math.abs(this.coslat0)&&Math.abs(Math.cos(this.lat_ts))>1e-10&&(this.k0=.5*this.cons*e3(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/e6(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=e3(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(i1(this.lat0,this.sinlat0,this.e))-eG,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,s,a,n,r,o=t.x,h=t.y,l=Math.sin(h),c=Math.cos(h),u=e5(o-this.long0);if(1e-10>=Math.abs(Math.abs(o-this.long0)-Math.PI)&&1e-10>=Math.abs(h+this.lat0))return t.x=NaN,t.y=NaN,t;if(this.sphere)e=2*this.k0/(1+this.sinlat0*l+this.coslat0*c*Math.cos(u)),t.x=this.a*e*c*Math.sin(u)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*c*Math.cos(u))+this.y0;else{if(a=Math.cos(i=2*Math.atan(i1(h,l,this.e))-eG),s=Math.sin(i),1e-10>=Math.abs(this.coslat0))return n=e6(this.e,h*this.con,this.con*l),r=2*this.a*this.k0*n/this.cons,t.x=this.x0+r*Math.sin(o-this.long0),t.y=this.y0-this.con*r*Math.cos(o-this.long0),t;1e-10>Math.abs(this.sinlat0)?t.y=(e=2*this.a*this.k0/(1+a*Math.cos(u)))*s:t.y=(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*a*Math.cos(u))))*(this.cosX0*s-this.sinX0*a*Math.cos(u))+this.y0,t.x=e*a*Math.sin(u)+this.x0}return t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,a,n,r=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(r/(2*this.a*this.k0));return e=this.long0,i=this.lat0,r<=1e-10||(i=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/r),e=1e-10>Math.abs(this.coslat0)?this.lat0>0?e5(this.long0+Math.atan2(t.x,-1*t.y)):e5(this.long0+Math.atan2(t.x,t.y)):e5(this.long0+Math.atan2(t.x*Math.sin(o),r*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o)))),t.x=e,t.y=i,t}if(1e-10>=Math.abs(this.coslat0)){if(r<=1e-10)return i=this.lat0,t.x=e=this.long0,t.y=i,t;t.x*=this.con,t.y*=this.con,s=r*this.cons/(2*this.a*this.k0),i=this.con*e9(this.e,s),e=this.con*e5(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(r*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,r<=1e-10?n=this.X0:(n=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/r),e=e5(this.long0+Math.atan2(t.x*Math.sin(a),r*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*e9(this.e,Math.tan(.5*(eG+n)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"],ssfn_:i1},i4={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,s=1/this.rf,a=2*s-Math.pow(s,2),n=this.e=Math.sqrt(a);this.R=this.k0*i*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+n*e)/(1-n*e));this.K=r-this.alpha*o+this.alpha*n/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),s=2*(Math.atan(Math.exp(-this.alpha*(e+i)+this.K))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),n=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(a))),r=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*n+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,s=e/this.R,a=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(s)),r=Math.atan(Math.sin(s)/(Math.cos(this.b0)*Math.cos(s)-Math.sin(this.b0)*Math.tan(a))),o=this.lambda0+r/this.alpha,h=0,l=n,c=-1e3,u=0;Math.abs(l-c)>1e-7;){if(++u>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=o,t.y=l,t},names:["somerc"]},i3={init:function(){var t,e,i,s,a,n,r,o,h,l,c,u,d=0,f=0,p=0,m=0,g=0,_=0,y=0;this.no_off=(t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],e="object"==typeof this.projName?Object.keys(this.projName)[0]:this.projName,"no_uoff"in this||"no_off"in this||-1!==t.indexOf(e)||-1!==t.indexOf(ia(e))),this.no_rot="no_rot"in this;var M=!1;"alpha"in this&&(M=!0);var v=!1;if("rectified_grid_angle"in this&&(v=!0),M&&(y=this.alpha),v&&(d=this.rectified_grid_angle),M||v)f=this.longc;else if(p=this.long1,g=this.lat1,m=this.long2,1e-7>=Math.abs(g-(_=this.lat2))||(i=Math.abs(g))<=1e-7||1e-7>=Math.abs(i-eG)||1e-7>=Math.abs(Math.abs(this.lat0)-eG)||1e-7>=Math.abs(Math.abs(_)-eG))throw Error();var w=1-this.es;(s=Math.sqrt(w),Math.abs(this.lat0)>1e-10?(l=Math.sin(this.lat0),a=Math.cos(this.lat0),i=1-this.es*l*l,this.B=a*a,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*s/i,(r=(n=this.B*s/(a*Math.sqrt(i)))*n-1)<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=n,this.E*=Math.pow(e6(this.e,this.lat0,l),this.B)):(this.B=1/s,this.A=this.k0,this.E=n=r=1),M||v)?(M?(u=Math.asin(Math.sin(y)/n),v||(d=y)):y=Math.asin(n*Math.sin(u=d)),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(u))/this.B):(o=Math.pow(e6(this.e,g,Math.sin(g)),this.B),h=Math.pow(e6(this.e,_,Math.sin(_)),this.B),r=this.E/o,c=((c=this.E*this.E)-h*o)/(c+h*o),(i=p-m)<-Math.PI?m-=eC:i>Math.PI&&(m+=eC),this.lam0=e5(.5*(p+m)-Math.atan(c*Math.tan(.5*this.B*(p-m))/((h-o)/(h+o)))/this.B),d=y=Math.asin(n*Math.sin(u=Math.atan(2*Math.sin(this.B*e5(p-this.lam0))/(r-1/r))))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(eA-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(eA+r))},forward:function(t){var e,i,s,a,n,r,o,h,l={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-eG)>1e-10){if(r=1/(n=this.E/Math.pow(e6(this.e,t.y,Math.sin(t.y)),this.B)),e=.5*(n-r),i=.5*(n+r),a=Math.sin(this.B*t.x),1e-10>Math.abs(Math.abs(s=(e*this.singam-a*this.cosgam)/i)-1))throw Error();h=.5*this.ArB*Math.log((1-s)/(1+s)),o=1e-7>Math.abs(r=Math.cos(this.B*t.x))?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+a*this.singam,r)}else h=t.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*t.y;return this.no_rot?(l.x=o,l.y=h):(o-=this.u_0,l.x=h*this.cosrot+o*this.sinrot,l.y=o*this.cosrot-h*this.sinrot),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(t){var e,i,s,a,n,r,o={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),a=.5*((s=Math.exp(-this.BrA*i))-1/s),1e-10>Math.abs(Math.abs(r=((n=Math.sin(this.BrA*e))*this.cosgam+a*this.singam)/(.5*(s+1/s)))-1))o.x=0,o.y=r<0?-eG:eG;else{if(o.y=this.E/Math.sqrt((1+r)/(1-r)),o.y=e9(this.e,Math.pow(o.y,1/this.B)),o.y===1/0)throw Error();o.x=-this.rB*Math.atan2(a*this.cosgam-n*this.singam,Math.cos(this.BrA*e))}return o.x+=this.lam0,o},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},i8={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(1e-10>Math.abs(this.lat1+this.lat2))){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),s=e3(this.e,e,i),a=e6(this.e,this.lat1,e),n=Math.sin(this.lat2),r=Math.cos(this.lat2),o=e3(this.e,n,r),h=e6(this.e,this.lat2,n),l=1e-10>Math.abs(Math.abs(this.lat0)-eG)?0:e6(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(s/o)/Math.log(a/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=s/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e,i,s=t.x,a=t.y;1e-10>=Math.abs(2*Math.abs(a)-Math.PI)&&(a=e8(a)*(eG-2e-10));var n=Math.abs(Math.abs(a)-eG);if(n>1e-10)e=e6(this.e,a,Math.sin(a)),i=this.a*this.f0*Math.pow(e,this.ns);else{if((n=a*this.ns)<=0)return null;i=0}var r=this.ns*e5(s-this.long0);return t.x=this.k0*(i*Math.sin(r))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(r))+this.y0,t},inverse:function(t){var e,i,s,a,n=(t.x-this.x0)/this.k0,r=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(n*n+r*r),i=1):(e=-Math.sqrt(n*n+r*r),i=-1);var o=0;if(0!==e&&(o=Math.atan2(i*n,i*r)),0!==e||this.ns>0){if(i=1/this.ns,s=Math.pow(e/(this.a*this.f0),i),-9999===(a=e9(this.e,s)))return null}else a=-eG;return t.x=e5(o/this.ns+this.long0),t.y=a,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},i5={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,s,a,n,r,o,h=t.x,l=t.y,c=e5(h-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),s=-c*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),n=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(a)),r=this.n*n,t.y=(o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n))*Math.cos(r)/1,t.x=o*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,s,a,n,r,o,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),n=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x)/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/n,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(a)),i=Math.asin(Math.cos(s)*Math.sin(a)/Math.cos(e)),t.x=this.long0-i/this.alfa,r=e,o=0;var l=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),1e-10>Math.abs(r-t.y)&&(o=1),r=t.y,l+=1;while(0===o&&l<15)return l>=15?null:t},names:["Krovak","krovak"]};function i6(t,e,i,s,a){return t*a-e*Math.sin(2*a)+i*Math.sin(4*a)-s*Math.sin(6*a)}function i9(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function i7(t){return .375*t*(1+.25*t*(1+.46875*t))}function st(t){return .05859375*t*t*(1+.75*t)}function se(t){return t*t*t*(35/3072)}function si(t,e,i){var s=e*i;return t/Math.sqrt(1-s*s)}function ss(t){return Math.abs(t)<eG?t:t-e8(t)*Math.PI}function sa(t,e,i,s,a){n=t/e;for(var n,r,o=0;o<15;o++)if(r=(t-(e*n-i*Math.sin(2*n)+s*Math.sin(4*n)-a*Math.sin(6*n)))/(e-2*i*Math.cos(2*n)+4*s*Math.cos(4*n)-6*a*Math.cos(6*n)),n+=r,1e-10>=Math.abs(r))return n;return NaN}let sn={init:function(){this.sphere||(this.e0=i9(this.es),this.e1=i7(this.es),this.e2=st(this.es),this.e3=se(this.es),this.ml0=this.a*i6(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,s=t.x,a=t.y;if(s=e5(s-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(a)*Math.sin(s)),i=this.a*(Math.atan2(Math.tan(a),Math.cos(s))-this.lat0);else{var n=Math.sin(a),r=Math.cos(a),o=si(this.a,this.e,n),h=Math.tan(a)*Math.tan(a),l=s*Math.cos(a),c=l*l,u=this.es*r*r/(1-this.es),d=this.a*i6(this.e0,this.e1,this.e2,this.e3,a);e=o*l*(1-c*h*(1/6-(8-h+8*u)*c/120)),i=d-this.ml0+o*n/r*c*(.5+(5-h+6*u)*c/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s=t.x/this.a,a=t.y/this.a;if(this.sphere){var n=a+this.lat0;e=Math.asin(Math.sin(n)*Math.cos(s)),i=Math.atan2(Math.tan(s),Math.cos(n))}else{var r=sa(this.ml0/this.a+a,this.e0,this.e1,this.e2,this.e3);if(1e-10>=Math.abs(Math.abs(r)-eG))return t.x=this.long0,t.y=eG,a<0&&(t.y*=-1),t;var o=si(this.a,this.e,Math.sin(r)),h=o*o*o/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(r),2),c=s*this.a/o,u=c*c;e=r-o*Math.tan(r)/h*c*c*(.5-(1+3*l)*c*c/24),i=c*(1-u*(l/3+(1+3*l)*l*u/15))/Math.cos(r)}return t.x=e5(i+this.long0),t.y=ss(e),t},names:["Cassini","Cassini_Soldner","cass"]};function sr(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}let so={init:function(){var t,e,i,s,a=Math.abs(this.lat0);if(1e-10>Math.abs(a-eG)?this.mode=this.lat0<0?1:2:1e-10>Math.abs(a)?this.mode=3:this.mode=4,this.es>0){switch(this.qp=sr(this.e,1),this.mmf=.5/(1-this.es),this.apa=(t=this.es,(i=[])[0]=.3333333333333333*t,e=t*t,i[0]+=.17222222222222222*e,i[1]=.06388888888888888*e,e*=t,i[0]+=.10257936507936508*e,i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i),this.mode){case 2:case 1:this.dd=1;break;case 3:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case 4:this.rq=Math.sqrt(.5*this.qp),s=Math.sin(this.lat0),this.sinb1=sr(this.e,s)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*s*s)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else 4===this.mode&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,s,a,n,r,o,h,l,c,u=t.x,d=t.y;if(u=e5(u-this.long0),this.sphere){if(n=Math.sin(d),c=Math.cos(d),s=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+c*s:1+this.sinph0*n+this.cosph0*c*s)<=1e-10)return null;e=(i=Math.sqrt(2/i))*c*Math.sin(u),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*c*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),1e-10>Math.abs(d+this.lat0))return null;i=eA-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(u),i*=s}}else{switch(o=0,h=0,l=0,s=Math.cos(u),a=Math.sin(u),n=Math.sin(d),r=sr(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sqrt(1-(o=r/this.qp)*o)),this.mode){case this.OBLIQ:l=1+this.sinb1*o+this.cosb1*h*s;break;case this.EQUIT:l=1+h*s;break;case this.N_POLE:l=eG+d,r=this.qp-r;break;case this.S_POLE:l=d-eG,r=this.qp+r}if(1e-10>Math.abs(l))return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*o-this.sinb1*h*s):(l=Math.sqrt(2/(1+h*s)))*o*this.ymf,e=this.xmf*l*h*a;break;case this.N_POLE:case this.S_POLE:r>=0?(e=(l=Math.sqrt(r))*a,i=s*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,a=t.x/this.a,n=t.y/this.a;if(this.sphere){var r,o,h,l,c,u,d,f,p=0,m=0;if((o=.5*(f=Math.sqrt(a*a+n*n)))>1)return null;switch(o=2*Math.asin(o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(o),p=Math.cos(o)),this.mode){case this.EQUIT:o=1e-10>=Math.abs(f)?0:Math.asin(n*m/f),a*=m,n=p*f;break;case this.OBLIQ:o=1e-10>=Math.abs(f)?this.lat0:Math.asin(p*this.sinph0+n*m*this.cosph0/f),a*=m*this.cosph0,n=(p-Math.sin(o)*this.sinph0)*f;break;case this.N_POLE:n=-n,o=eG-o;break;case this.S_POLE:o-=eG}r=0===n&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(a,n)}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(a/=this.dd,n*=this.dd,(u=Math.sqrt(a*a+n*n))<1e-10)return t.x=this.long0,t.y=this.lat0,t;h=Math.cos(l=2*Math.asin(.5*u/this.rq)),a*=l=Math.sin(l),this.mode===this.OBLIQ?(d=h*this.sinb1+n*l*this.cosb1/u,c=this.qp*d,n=u*this.cosb1*h-n*this.sinb1*l):(d=n*l/u,c=this.qp*d,n=u*h)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),!(c=a*a+n*n))return t.x=this.long0,t.y=this.lat0,t;d=1-c/this.qp,this.mode===this.S_POLE&&(d=-d)}r=Math.atan2(a,n),e=Math.asin(d),i=this.apa,s=e+e,o=e+i[0]*Math.sin(s)+i[1]*Math.sin(s+s)+i[2]*Math.sin(s+s+s)}return t.x=e5(this.long0+r),t.y=o,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function sh(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}let sl={init:function(){1e-10>Math.abs(this.lat1+this.lat2)||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=e3(this.e3,this.sin_po,this.cos_po),this.qs1=sr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=e3(this.e3,this.sin_po,this.cos_po),this.qs2=sr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=sr(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var s=sr(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*s)/this.ns0,n=this.ns0*e5(e-this.long0),r=a*Math.sin(n)+this.x0,o=this.rh-a*Math.cos(n)+this.y0;return t.x=r,t.y=o,t},inverse:function(t){var e,i,s,a,n;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),s=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),s=-1),a=0,0!==e&&(a=Math.atan2(s*t.x,s*t.y)),s=e*this.ns0/this.a,this.sphere?n=Math.asin((this.c-s*s)/(2*this.ns0)):(i=(this.c-s*s)/this.ns0,n=this.phi1z(this.e3,i)),t.x=e5(a/this.ns0+this.long0),t.y=n,t},names:["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,s,a,n,r,o=sh(.5*e);if(t<1e-10)return o;for(var h=t*t,l=1;l<=25;l++)if(i=Math.sin(o),s=Math.cos(o),o+=r=.5*(n=1-(a=t*i)*a)*n/s*(e/(1-h)-i/n+.5/t*Math.log((1-a)/(1+a))),1e-7>=Math.abs(r))return o;return null}},sc={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,s,a,n,r,o,h=t.x,l=t.y;return s=e5(h-this.long0),e=Math.sin(l),i=Math.cos(l),a=Math.cos(s),(n=this.sin_p14*e+this.cos_p14*i*a)>0||1e-10>=Math.abs(n)?(r=this.x0+this.a*i*Math.sin(s)/n,o=this.y0+this.a*(this.cos_p14*e-this.sin_p14*i*a)/n):(r=this.x0+this.infinity_dist*i*Math.sin(s),o=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*a)),t.x=r,t.y=o,t},inverse:function(t){var e,i,s,a,n,r;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.sin(a=Math.atan2(e,this.rc)),r=sh((s=Math.cos(a))*this.sin_p14+t.y*i*this.cos_p14/e),n=Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i),n=e5(this.long0+n)):(r=this.phic0,n=0),t.x=n,t.y=r,t},names:["gnom"]},su={init:function(){this.sphere||(this.k0=e3(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,s=t.x,a=t.y,n=e5(s-this.long0);if(this.sphere)e=this.x0+this.a*n*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var r=sr(this.e,Math.sin(a));e=this.x0+this.a*this.k0*n,i=this.y0+this.a*r*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=e5(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){if(1e-6>Math.abs(Math.abs(e)-(1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t)))))if(e<0)return -1*eG;else return eG;for(var i,s,a,n,r=Math.asin(.5*e),o=0;o<30;o++)if(s=Math.sin(r),a=Math.cos(r),r+=i=Math.pow(1-(n=t*s)*n,2)/(2*a)*(e/(1-t*t)-s/(1-n*n)+.5/t*Math.log((1-n)/(1+n))),1e-10>=Math.abs(i))return r;return NaN}(this.e,2*t.y*this.k0/this.a),e=e5(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},sd={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,s=e5(e-this.long0),a=ss(i-this.lat0);return t.x=this.x0+this.a*s*this.rc,t.y=this.y0+this.a*a,t},inverse:function(t){var e=t.x,i=t.y;return t.x=e5(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ss(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"]},sf={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i9(this.es),this.e1=i7(this.es),this.e2=st(this.es),this.e3=se(this.es),this.ml0=this.a*i6(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,s,a=t.x,n=t.y,r=e5(a-this.long0);if(s=r*Math.sin(n),this.sphere)1e-10>=Math.abs(n)?(e=this.a*r,i=-1*this.a*this.lat0):(e=this.a*Math.sin(s)/Math.tan(n),i=this.a*(ss(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(1e-10>=Math.abs(n))e=this.a*r,i=-1*this.ml0;else{var o=si(this.a,this.e,Math.sin(n))/Math.tan(n);e=o*Math.sin(s),i=this.a*i6(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(s))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,s,a,n,r,o,h,l,c,u,d,f,p,m;if(s=t.x-this.x0,a=t.y-this.y0,this.sphere)if(1e-10>=Math.abs(a+this.a*this.lat0))e=e5(s/this.a+this.long0),i=0;else{for(n=20,r=this.lat0+a/this.a,o=s*s/this.a/this.a+r*r,h=r;n;--n)if(c=Math.tan(h),l=-1*(r*(h*c+1)-h-.5*(h*h+o)*c)/((h-r)/c-1),h+=l,1e-10>=Math.abs(l)){i=h;break}e=e5(this.long0+Math.asin(s*Math.tan(h)/this.a)/Math.sin(i))}else if(1e-10>=Math.abs(a+this.ml0))i=0,e=e5(this.long0+s/this.a);else{for(n=20,r=(this.ml0+a)/this.a,o=s*s/this.a/this.a+r*r,h=r;n;--n)if(u=Math.sqrt(1-(m=this.e*Math.sin(h))*m)*Math.tan(h),d=this.a*i6(this.e0,this.e1,this.e2,this.e3,h),f=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),l=(r*(u*(p=d/this.a)+1)-p-.5*u*(p*p+o))/(this.es*Math.sin(2*h)*(p*p+o-2*r*p)/(4*u)+(r-p)*(u*f-2/Math.sin(2*h))-f),h-=l,1e-10>=Math.abs(l)){i=h;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=e5(this.long0+Math.asin(s*u/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","American_Polyconic","poly"]},sp={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i,s,a=t.x,n=t.y-this.lat0,r=a-this.long0,o=n/484813681109536e-20*1e-5,h=1,l=0;for(e=1;e<=10;e++)h*=o,l+=this.A[e]*h;var c=l,u=1,d=0,f=0,p=0;for(e=1;e<=6;e++)i=u*c-d*r,s=d*c+u*r,u=i,d=s,f=f+this.B_re[e]*u-this.B_im[e]*d,p=p+this.B_im[e]*u+this.B_re[e]*d;return t.x=p*this.a+this.x0,t.y=f*this.a+this.y0,t},inverse:function(t){var e=t.x,i=t.y,s=e-this.x0,a=(i-this.y0)/this.a,n=s/this.a,r=1,o=0,h=0,l=0;for(u=1;u<=6;u++)d=r*a-o*n,f=o*a+r*n,r=d,o=f,h=h+this.C_re[u]*r-this.C_im[u]*o,l=l+this.C_im[u]*r+this.C_re[u]*o;for(var c=0;c<this.iterations;c++){var u,d,f,p,m,g=h,_=l,y=a,M=n;for(u=2;u<=6;u++)p=g*h-_*l,m=_*h+g*l,g=p,_=m,y+=(u-1)*(this.B_re[u]*g-this.B_im[u]*_),M+=(u-1)*(this.B_im[u]*g+this.B_re[u]*_);g=1,_=0;var v=this.B_re[1],w=this.B_im[1];for(u=2;u<=6;u++)p=g*h-_*l,m=_*h+g*l,g=p,_=m,v+=u*(this.B_re[u]*g-this.B_im[u]*_),w+=u*(this.B_im[u]*g+this.B_re[u]*_);var x=v*v+w*w;h=(y*v+M*w)/x,l=(M*v-y*w)/x}var S=h,E=l,b=1,P=0;for(u=1;u<=9;u++)b*=S,P+=this.D[u]*b;var G=this.lat0+484813681109536e-20*P*1e5;return t.x=this.long0+E,t.y=G,t},names:["New_Zealand_Map_Grid","nzmg"]},sm={init:function(){},forward:function(t){var e=t.x,i=t.y,s=e5(e-this.long0),a=this.x0+this.a*s,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=a,t.y=n,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=e5(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},sg={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=iF(this.es)},forward:function(t){var e,i,s=t.x,a=t.y;if(s=e5(s-this.long0),this.sphere){if(this.m)for(var n=this.n*Math.sin(a),r=20;r;--r){var o=(this.m*a+Math.sin(a)-n)/(this.m+Math.cos(a));if(a-=o,1e-10>Math.abs(o))break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;e=this.a*this.C_x*s*(this.m+Math.cos(a)),i=this.a*this.C_y*a}else{var h=Math.sin(a),l=Math.cos(a);i=this.a*iU(a,h,l,this.en),e=this.a*s*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=sh((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=sh(Math.sin(e)/this.n)),i=e5(i+this.long0),e=ss(e)):(s=Math.abs(e=iW(t.y/this.a,this.es,this.en)))<eG?(s=Math.sin(e),i=e5(this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)))):s-1e-10<eG&&(i=this.long0),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},s_={init:function(){},forward:function(t){for(var e=t.x,i=t.y,s=e5(e-this.long0),a=i,n=Math.PI*Math.sin(i);;){var r=-(a+Math.sin(a)-n)/(1+Math.cos(a));if(a+=r,1e-10>Math.abs(r))break}a/=2,Math.PI/2-Math.abs(i)<1e-10&&(s=0);var o=.900316316158*this.a*s*Math.cos(a)+this.x0,h=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=o,t.y=h,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0,Math.abs(e=t.y/(1.4142135623731*this.a))>.999999999999&&(e=.999999999999);var e,i=Math.asin(e),s=e5(this.long0+t.x/(.900316316158*this.a*Math.cos(i)));s<-Math.PI&&(s=-Math.PI),s>Math.PI&&(s=Math.PI),Math.abs(e=(2*i+Math.sin(2*i))/Math.PI)>1&&(e=1);var a=Math.asin(e);return t.x=s,t.y=a,t},names:["Mollweide","moll"]},sy={init:function(){1e-10>Math.abs(this.lat1+this.lat2)||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i9(this.es),this.e1=i7(this.es),this.e2=st(this.es),this.e3=se(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=e3(this.e,this.sin_phi,this.cos_phi),this.ml1=i6(this.e0,this.e1,this.e2,this.e3,this.lat1),1e-10>Math.abs(this.lat1-this.lat2)?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=e3(this.e,this.sin_phi,this.cos_phi),this.ml2=i6(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=i6(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,s=t.y;if(this.sphere)e=this.a*(this.g-s);else{var a=i6(this.e0,this.e1,this.e2,this.e3,s);e=this.a*(this.g-a)}var n=this.ns*e5(i-this.long0),r=this.x0+e*Math.sin(n),o=this.y0+this.rh-e*Math.cos(n);return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var e,i,s,a,n=0;return(0!==i&&(n=Math.atan2(e*t.x,e*t.y)),this.sphere)?(a=e5(this.long0+n/this.ns),s=ss(this.g-i/this.a),t.x=a):(s=sa(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),t.x=a=e5(this.long0+n/this.ns)),t.y=s,t},names:["Equidistant_Conic","eqdc"]},sM={init:function(){this.R=this.a},forward:function(t){var e,i,s=t.x,a=t.y,n=e5(s-this.long0);1e-10>=Math.abs(a)&&(e=this.x0+this.R*n,i=this.y0);var r=sh(2*Math.abs(a/Math.PI));(1e-10>=Math.abs(n)||1e-10>=Math.abs(Math.abs(a)-eG))&&(e=this.x0,i=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*r):this.y0+-(Math.PI*this.R*Math.tan(.5*r)));var o=.5*Math.abs(Math.PI/n-n/Math.PI),h=o*o,l=Math.sin(r),c=Math.cos(r),u=c/(l+c-1),d=u*(2/l-1),f=d*d,p=Math.PI*this.R*(o*(u-f)+Math.sqrt(h*(u-f)*(u-f)-(f+h)*(u*u-f)))/(f+h);n<0&&(p=-p),e=this.x0+p;var m=h+u;return p=Math.PI*this.R*(d*m-o*Math.sqrt((f+h)*(h+1)-m*m))/(f+h),i=a>=0?this.y0+p:this.y0-p,t.x=e,t.y=i,t},inverse:function(t){var e,i,s,a,n,r,o,h,l,c,u,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,a=(i=t.x/c)*i+(s=t.y/c)*s,r=(n=-Math.abs(s)*(1+a))-2*s*s+i*i,o=-2*n+1+2*s*s+a*a,d=s*s/o+(2*r*r*r/o/o/o-9*n*r/o/o)/27,l=2*Math.sqrt(-(h=(n-r*r/3/o)/o)/3),Math.abs(c=3*d/h/l)>1&&(c=c>=0?1:-1),u=Math.acos(c)/3,e=t.y>=0?(-l*Math.cos(u+Math.PI/3)-r/3/o)*Math.PI:-(-l*Math.cos(u+Math.PI/3)-r/3/o)*Math.PI,t.x=1e-10>Math.abs(i)?this.long0:e5(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-s*s)+a*a))/2/i),t.y=e,t},names:["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"]},sv={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))},forward:function(t){var e,i,s,a,n,r,o,h,l,c,u=t.x,d=t.y,f=Math.sin(t.y),p=Math.cos(t.y),m=e5(u-this.long0);if(this.sphere)if(1e-10>=Math.abs(this.sin_p12-1))return t.x=this.x0+this.a*(eG-d)*Math.sin(m),t.y=this.y0-this.a*(eG-d)*Math.cos(m),t;else if(1e-10>=Math.abs(this.sin_p12+1))return t.x=this.x0+this.a*(eG+d)*Math.sin(m),t.y=this.y0+this.a*(eG+d)*Math.cos(m),t;else return h=(o=Math.acos(this.sin_p12*f+this.cos_p12*p*Math.cos(m)))?o/Math.sin(o):1,t.x=this.x0+this.a*h*p*Math.sin(m),t.y=this.y0+this.a*h*(this.cos_p12*f-this.sin_p12*p*Math.cos(m)),t;return(e=i9(this.es),i=i7(this.es),s=st(this.es),a=se(this.es),1e-10>=Math.abs(this.sin_p12-1))?(n=this.a*i6(e,i,s,a,eG),r=this.a*i6(e,i,s,a,d),t.x=this.x0+(n-r)*Math.sin(m),t.y=this.y0-(n-r)*Math.cos(m),t):1e-10>=Math.abs(this.sin_p12+1)?(n=this.a*i6(e,i,s,a,eG),r=this.a*i6(e,i,s,a,d),t.x=this.x0+(n+r)*Math.sin(m),t.y=this.y0+(n+r)*Math.cos(m),t):(1e-10>Math.abs(u)&&1e-10>Math.abs(d-this.lat0)?t.x=t.y=0:(c=(l=function(t,e,i,s,a,n){let r,o,h,l,c,u,d,f,p,m,g,_,y=s-e,M=Math.atan((1-n)*Math.tan(t)),v=Math.atan((1-n)*Math.tan(i)),w=Math.sin(M),x=Math.cos(M),S=Math.sin(v),E=Math.cos(v),b=y,P,G=100;do{if(0===(h=Math.sqrt(E*(r=Math.sin(b))*(E*r)+(x*S-w*E*(o=Math.cos(b)))*(x*S-w*E*o))))return{azi1:0,s12:0};c=Math.atan2(h,l=w*S+x*E*o),f=0!=(d=1-(u=x*E*r/h)*u)?l-2*w*S/d:0,p=n/16*d*(4+n*(4-3*d)),P=b,b=y+(1-p)*n*u*(c+p*h*(f+p*l*(-1+2*f*f)))}while(Math.abs(b-P)>1e-12&&--G>0)return 0===G?{azi1:NaN,s12:NaN}:(g=1+(m=d*(a*a-a*(1-n)*(a*(1-n)))/(a*(1-n)*(a*(1-n))))/16384*(4096+m*(-768+m*(320-175*m))),{azi1:Math.atan2(E*r,x*S-w*E*o),s12:a*(1-n)*g*(c-(_=m/1024*(256+m*(-128+m*(74-47*m))))*h*(f+_/4*(l*(-1+2*f*f)-_/6*f*(-3+4*h*h)*(-3+4*f*f))))})}(this.lat0,this.long0,d,u,this.a,this.f)).azi1,t.x=l.s12*Math.sin(c),t.y=l.s12*Math.cos(c)),t)},inverse:function(t){var e,i,s,a,n,r,o,h,l,c,u,d,f,p;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*eG*this.a)return;return s=Math.sin(i=e/this.a),a=Math.cos(i),n=this.long0,1e-10>=Math.abs(e)?r=this.lat0:(r=sh(a*this.sin_p12+t.y*s*this.cos_p12/e),n=1e-10>=Math.abs(Math.abs(this.lat0)-eG)?this.lat0>=0?e5(this.long0+Math.atan2(t.x,-t.y)):e5(this.long0-Math.atan2(-t.x,t.y)):e5(this.long0+Math.atan2(t.x*s,e*this.cos_p12*a-t.y*this.sin_p12*s))),t.x=n,t.y=r,t}return(o=i9(this.es),h=i7(this.es),l=st(this.es),c=se(this.es),1e-10>=Math.abs(this.sin_p12-1))?(r=sa(((u=this.a*i6(o,h,l,c,eG))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,o,h,l,c),n=e5(this.long0+Math.atan2(t.x,-1*t.y)),t.x=n,t.y=r):1e-10>=Math.abs(this.sin_p12+1)?(u=this.a*i6(o,h,l,c,eG),r=sa(((e=Math.sqrt(t.x*t.x+t.y*t.y))-u)/this.a,o,h,l,c),n=e5(this.long0+Math.atan2(t.x,t.y)),t.x=n,t.y=r):(d=Math.atan2(t.x,t.y),f=Math.sqrt(t.x*t.x+t.y*t.y),t.x=(p=function(t,e,i,s,a,n){let r,o,h,l,c=Math.atan((1-n)*Math.tan(t)),u=Math.sin(c),d=Math.cos(c),f=Math.sin(i),p=Math.cos(i),m=Math.atan2(u,d*p),g=d*f,_=1-g*g,y=_*(a*a-a*(1-n)*(a*(1-n)))/(a*(1-n)*(a*(1-n))),M=1+y/16384*(4096+y*(-768+y*(320-175*y))),v=y/1024*(256+y*(-128+y*(74-47*y))),w=s/(a*(1-n)*M),x,S=100;do r=Math.cos(2*m+w),l=v*(o=Math.sin(w))*(r+v/4*((h=Math.cos(w))*(-1+2*r*r)-v/6*r*(-3+4*o*o)*(-3+4*r*r))),x=w,w=s/(a*(1-n)*M)+l;while(Math.abs(w-x)>1e-12&&--S>0)if(0===S)return{lat2:NaN,lon2:NaN};let E=u*o-d*h*p,b=Math.atan2(u*h+d*o*p,(1-n)*Math.sqrt(g*g+E*E)),P=n/16*_*(4+n*(4-3*_));return{lat2:b,lon2:e+(Math.atan2(o*f,d*h-u*o*p)-(1-P)*n*g*(w+P*o*(r+P*h*(-1+2*r*r))))}}(this.lat0,this.long0,d,f,this.a,this.f)).lon2,t.y=p.lat2),t},names:["Azimuthal_Equidistant","aeqd"]},sw={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,s,a,n,r,o,h=t.x,l=t.y;return s=e5(h-this.long0),e=Math.sin(l),i=Math.cos(l),a=Math.cos(s),((n=this.sin_p14*e+this.cos_p14*i*a)>0||1e-10>=Math.abs(n))&&(r=this.a*i*Math.sin(s),o=this.y0+this.a*(this.cos_p14*e-this.sin_p14*i*a)),t.x=r,t.y=o,t},inverse:function(t){var e,i,s,a,n,r;return(t.x-=this.x0,t.y-=this.y0,s=Math.sin(i=sh((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a)),a=Math.cos(i),n=this.long0,1e-10>=Math.abs(e))?r=this.lat0:(r=sh(a*this.sin_p14+t.y*s*this.cos_p14/e),1e-10>=Math.abs(Math.abs(this.lat0)-eG))?n=this.lat0>=0?e5(this.long0+Math.atan2(t.x,-t.y)):e5(this.long0-Math.atan2(-t.x,t.y)):n=e5(this.long0+Math.atan2(t.x*s,e*this.cos_p14*a-t.y*this.sin_p14*s)),t.x=n,t.y=r,t},names:["ortho"]};var sx={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},sS={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function sE(t,e,i,s){var a;return t<1e-10?(s.value=sS.AREA_0,a=0):Math.abs(a=Math.atan2(e,i))<=eA?s.value=sS.AREA_0:a>eA&&a<=eG+eA?(s.value=sS.AREA_1,a-=eG):a>eG+eA||a<=-(eG+eA)?(s.value=sS.AREA_2,a=a>=0?a-3.14159265359:a+3.14159265359):(s.value=sS.AREA_3,a+=eG),a}function sb(t,e){var i=t+e;return i<-3.14159265359?i+=eC:i>3.14159265359&&(i-=eC),i}let sP={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=eG-eA/2?this.face=sx.TOP:this.lat0<=-(eG-eA/2)?this.face=sx.BOTTOM:Math.abs(this.long0)<=eA?this.face=sx.FRONT:Math.abs(this.long0)<=eG+eA?this.face=this.long0>0?sx.RIGHT:sx.LEFT:this.face=sx.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,s,a,n,r,o,h,l,c,u,d={x:0,y:0},f={value:0};return(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===sx.TOP)?(a=eG-e,i>=eA&&i<=eG+eA?(f.value=sS.AREA_0,s=i-eG):i>eG+eA||i<=-(eG+eA)?(f.value=sS.AREA_1,s=i>0?i-3.14159265359:i+3.14159265359):i>-(eG+eA)&&i<=-eA?(f.value=sS.AREA_2,s=i+eG):(f.value=sS.AREA_3,s=i)):this.face===sx.BOTTOM?(a=eG+e,i>=eA&&i<=eG+eA?(f.value=sS.AREA_0,s=-i+eG):i<eA&&i>=-eA?(f.value=sS.AREA_1,s=-i):i<-eA&&i>=-(eG+eA)?(f.value=sS.AREA_2,s=-i-eG):(f.value=sS.AREA_3,s=i>0?-i+3.14159265359:-i-3.14159265359)):(this.face===sx.RIGHT?i=sb(i,+eG):this.face===sx.BACK?i=sb(i,3.14159265359):this.face===sx.LEFT&&(i=sb(i,-eG)),l=Math.sin(e),c=Math.cos(e),u=Math.sin(i),o=c*Math.cos(i),h=c*u,this.face===sx.FRONT?s=sE(a=Math.acos(o),l,h,f):this.face===sx.RIGHT?s=sE(a=Math.acos(h),l,-o,f):this.face===sx.BACK?s=sE(a=Math.acos(-o),l,-h,f):this.face===sx.LEFT?s=sE(a=Math.acos(-h),l,o,f):(a=s=0,f.value=sS.AREA_0)),n=Math.sqrt((1-Math.cos(a))/(Math.cos(r=Math.atan(3.8197186342052367*(s+Math.acos(Math.sin(s)*Math.cos(eA))-eG)))*Math.cos(r))/(1-Math.cos(Math.atan(1/Math.cos(s))))),f.value===sS.AREA_1?r+=eG:f.value===sS.AREA_2?r+=3.14159265359:f.value===sS.AREA_3&&(r+=4.7123889803850005),d.x=n*Math.cos(r),d.y=n*Math.sin(r),d.x=d.x*this.a+this.x0,d.y=d.y*this.a+this.y0,t.x=d.x,t.y=d.y,t},inverse:function(t){var e,i,s,a,n,r,o,h,l,c,u,d,f,p={lam:0,phi:0},m={value:0};return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=sS.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=sS.AREA_1,e-=eG):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=sS.AREA_2,e=e<0?e+3.14159265359:e-3.14159265359):(m.value=sS.AREA_3,e+=eG),n=Math.atan(Math.sin(o=3.14159265359/12*Math.tan(e))/(Math.cos(o)-1/Math.sqrt(2))),(r=1-(s=Math.cos(e))*s*(a=Math.tan(i))*a*(1-Math.cos(Math.atan(1/Math.cos(n)))))<-1?r=-1:r>1&&(r=1),this.face===sx.TOP?(p.phi=eG-Math.acos(r),m.value===sS.AREA_0?p.lam=n+eG:m.value===sS.AREA_1?p.lam=n<0?n+3.14159265359:n-3.14159265359:m.value===sS.AREA_2?p.lam=n-eG:p.lam=n):this.face===sx.BOTTOM?(p.phi=Math.acos(r)-eG,m.value===sS.AREA_0?p.lam=-n+eG:m.value===sS.AREA_1?p.lam=-n:m.value===sS.AREA_2?p.lam=-n-eG:p.lam=n<0?-n-3.14159265359:-n+3.14159265359):(c=(o=(h=r)*h)>=1?0:Math.sqrt(1-o)*Math.sin(n),o+=c*c,l=o>=1?0:Math.sqrt(1-o),m.value===sS.AREA_1?(o=l,l=-c,c=o):m.value===sS.AREA_2?(l=-l,c=-c):m.value===sS.AREA_3&&(o=l,l=c,c=-o),this.face===sx.RIGHT?(o=h,h=-l,l=o):this.face===sx.BACK?(h=-h,l=-l):this.face===sx.LEFT&&(o=h,h=l,l=-o),p.phi=Math.acos(-c)-eG,p.lam=Math.atan2(l,h),this.face===sx.RIGHT?p.lam=sb(p.lam,-eG):this.face===sx.BACK?p.lam=sb(p.lam,-3.14159265359):this.face===sx.LEFT&&(p.lam=sb(p.lam,+eG))),0!==this.es&&(u=+(p.phi<0),d=Math.tan(p.phi),f=this.b/Math.sqrt(d*d+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),u&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var sG=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],sA=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],sC=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};let sN={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=e5(t.x-this.long0),i=Math.abs(t.y),s=Math.floor(11.459155902616464*i);s<0?s=0:s>=18&&(s=17),i=57.29577951308232*(i-.08726646259971647*s);var a={x:sC(sG[s],i)*e,y:sC(sA[s],i)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*.8487+this.x0,a.y=a.y*this.a*1.3523+this.y0,a},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=sG[18][0],e.y=t.y<0?-eG:eG;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(sA[i][0]>e.y)--i;else if(sA[i+1][0]<=e.y)++i;else break;var s=sA[i],a=5*(e.y-s[0])/(sA[i+1][0]-s[0]);a=function(t,e,i,s){for(var a=e;s;--s){var n=t(a);if(a-=n,1e-10>Math.abs(n))break}return a}(function(t){return(sC(s,t)-e.y)/(s[1]+t*(2*s[2]+3*t*s[3]))},a,0,100),e.x/=sC(sG[i],a),e.y=(5*i+a)*.017453292519943295,t.y<0&&(e.y=-e.y)}return e.x=e5(e.x+this.long0),e},names:["Robinson","robin"]},sI={init:function(){this.name="geocent"},forward:function(t){return iv(t,this.es,this.a)},inverse:function(t){return iw(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var sR={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},sT={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};let sO={init:function(){if(Object.keys(sT).forEach((function(t){if(void 0===this[t])this[t]=sT[t].def;else if(sT[t].num&&isNaN(this[t]))throw Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);else sT[t].num&&(this[t]=parseFloat(this[t]));sT[t].degrees&&(this[t]=.017453292519943295*this[t])}).bind(this)),1e-10>Math.abs(Math.abs(this.lat0)-eG)?this.mode=this.lat0<0?sR.S_POLE:sR.N_POLE:1e-10>Math.abs(this.lat0)?this.mode=sR.EQUIT:(this.mode=sR.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,i,s,a,n=Math.sin(t.y),r=Math.cos(t.y),o=Math.cos(t.x);switch(this.mode){case sR.OBLIQ:i=this.sinph0*n+this.cosph0*r*o;break;case sR.EQUIT:i=r*o;break;case sR.S_POLE:i=-n;break;case sR.N_POLE:i=n}switch(e=(i=this.pn1/(this.p-i))*r*Math.sin(t.x),this.mode){case sR.OBLIQ:i*=this.cosph0*n-this.sinph0*r*o;break;case sR.EQUIT:i*=n;break;case sR.N_POLE:i*=-(r*o);break;case sR.S_POLE:i*=r*o}return a=1/((s=i*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-i*this.sg)*this.cw*a,i=s*a,t.x=e*this.a,t.y=i*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,i,s,a,n,r={x:t.x,y:t.y};s=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=e*this.cg+i*this.sg,t.y=i*this.cg-e*this.sg;var o=iY(t.x,t.y);if(1e-10>Math.abs(o))r.x=0,r.y=t.y;else{switch(n=1-o*o*this.pfact,a=Math.sqrt(1-(n=(this.p-Math.sqrt(n))/(this.pn1/o+o/this.pn1))*n),this.mode){case sR.OBLIQ:r.y=Math.asin(a*this.sinph0+t.y*n*this.cosph0/o),t.y=(a-this.sinph0*Math.sin(r.y))*o,t.x*=n*this.cosph0;break;case sR.EQUIT:r.y=Math.asin(t.y*n/o),t.y=a*o,t.x*=n;break;case sR.N_POLE:r.y=Math.asin(a),t.y=-t.y;break;case sR.S_POLE:r.y=-Math.asin(a)}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t},names:["Tilted_Perspective","tpers"]},sk={init:function(){if(this.flip_axis=+("x"===this.sweep),this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw Error();if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=1/t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,i,s,a,n=t.x,r=t.y;if(n-=this.long0,"ellipse"===this.shape){r=Math.atan(this.radius_p2*Math.tan(r));var o=this.radius_p/iY(this.radius_p*Math.cos(r),Math.sin(r));if(i=o*Math.cos(n)*Math.cos(r),s=o*Math.sin(n)*Math.cos(r),a=o*Math.sin(r),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return t.x=NaN,t.y=NaN,t;e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/iY(a,e)),t.y=this.radius_g_1*Math.atan(a/e)):(t.x=this.radius_g_1*Math.atan(s/e),t.y=this.radius_g_1*Math.atan(a/iY(s,e)))}else"sphere"===this.shape&&(i=Math.cos(n)*(e=Math.cos(r)),s=Math.sin(n)*e,a=Math.sin(r),e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/iY(a,e)),t.y=this.radius_g_1*Math.atan(a/e)):(t.x=this.radius_g_1*Math.atan(s/e),t.y=this.radius_g_1*Math.atan(a/iY(s,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,i,s,a,n=-1,r=0,o=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*iY(1,o)):(r=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*iY(1,r));var h=o/this.radius_p;if(e=r*r+h*h+n*n,(s=(i=2*this.radius_g*n)*i-4*e*this.C)<0)return t.x=NaN,t.y=NaN,t;a=(-i-Math.sqrt(s))/(2*e),n=this.radius_g+a*n,r*=a,o*=a,t.x=Math.atan2(r,n),t.y=Math.atan(o*Math.cos(t.x)/n),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+o*o)):(r=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),e=r*r+o*o+n*n,(s=(i=2*this.radius_g*n)*i-4*e*this.C)<0)return t.x=NaN,t.y=NaN,t;a=(-i-Math.sqrt(s))/(2*e),n=this.radius_g+a*n,r*=a,o*=a,t.x=Math.atan2(r,n),t.y=Math.atan(o*Math.cos(t.x)/n)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var sj=Math.sqrt(3)/2;let sL={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(t){var e=e5(t.x-this.long0),i=Math.asin(sj*Math.sin(t.y)),s=i*i,a=s*s*s;return t.x=e*Math.cos(i)/(sj*(1.340264+-.24331799999999998*s+a*(.0062510000000000005+.034164*s))),t.y=i*(1.340264+-.081106*s+a*(893e-6+.003796*s)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e,i,s,a,n,r=t.y;for(n=0;n<12&&(i=(e=r*r)*e*e,s=r*(1.340264+-.081106*e+i*(893e-6+.003796*e))-t.y,r-=a=s/(1.340264+-.24331799999999998*e+i*(.0062510000000000005+.034164*e)),!(1e-9>Math.abs(a)));++n);return i=(e=r*r)*e*e,t.x=sj*t.x*(1.340264+-.24331799999999998*e+i*(.0062510000000000005+.034164*e))/Math.cos(r),t.y=Math.asin(Math.sin(r)/sj),t.x=e5(t.x+this.long0),t},names:["eqearth","Equal Earth","Equal_Earth"]};function sD(t){var e,i,s,a=e5(t.x-(this.long0||0)),n=t.y;return e=this.am1+this.m1-iU(n,i=Math.sin(n),s=Math.cos(n),this.en),i=s*a/(e*Math.sqrt(1-this.es*i*i)),t.x=e*Math.sin(i),t.y=this.am1-e*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function sz(t){var e,i,s,a;if(t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a,i=iY(t.x,t.y=this.am1-t.y),(e=Math.abs(a=iW(this.am1+this.m1-i,this.es,this.en)))<eG)e=Math.sin(a),s=i*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(a);else if(1e-10>=Math.abs(e-eG))s=0;else throw Error();return t.x=e5(s+(this.long0||0)),t.y=ss(a),t}function sq(t){var e,i,s=e5(t.x-(this.long0||0)),a=t.y;return Math.abs(i=this.cphi1+this.phi1-a)>1e-10?(t.x=i*Math.sin(e=s*Math.cos(a)/i),t.y=this.cphi1-i*Math.cos(e)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function sB(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,i,s=iY(t.x,t.y=this.cphi1-t.y);if(Math.abs(i=this.cphi1+this.phi1-s)>eG)throw Error();return e=1e-10>=Math.abs(Math.abs(i)-eG)?0:s*Math.atan2(t.x,t.y)/Math.cos(i),t.x=e5(e+(this.long0||0)),t.y=ss(i),t}let sF={init:function(){var t;if(this.phi1=this.lat1,1e-10>Math.abs(this.phi1))throw Error();this.es?(this.en=iF(this.es),this.m1=iU(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=sz,this.forward=sD):(Math.abs(this.phi1)+1e-10>=eG?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=sB,this.forward=sq)},names:["bonne","Bonne (Werner lat_1=90)"]},sU=Object.assign(function(t,e,i){var s,a,n,r=!1;return(void 0===e?(a=iI(t),s=iC,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,a=iI(t),s=iC,r=!0),s||(s=iI(t)),a||(a=iI(e)),i)?iN(s,a,i):(n={forward:function(t,e){return iN(s,a,t,e)},inverse:function(t,e){return iN(a,s,t,e)}},r&&(n.oProj=a),n)},{defaultDatum:"WGS84",Proj:iM,WGS84:new iM("WGS84"),Point:iB,toPoint:iP,defs:e0,nadgrid:function(t,e,i){var s,a,n,r,o,h,l,c,u,d,f,p,m;return e instanceof ArrayBuffer?(s=t,a=e,r=!0,void 0!==(n=i)&&!1===n.includeErrorFields&&(r=!1),d=11!==(h=(o=u=new DataView(a)).getInt32(8,!1))&&(11!==(h=o.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0),f=(l=u,c=d,{nFields:l.getInt32(8,c),nSubgridFields:l.getInt32(24,c),nSubgrids:l.getInt32(40,c),shiftType:iy(l,56,64).trim(),fromSemiMajorAxis:l.getFloat64(120,c),fromSemiMinorAxis:l.getFloat64(136,c),toSemiMajorAxis:l.getFloat64(152,c),toSemiMinorAxis:l.getFloat64(168,c)}),p=function(t,e,i,s){for(var a=176,n=[],r=0;r<e.nSubgrids;r++){var o,h,l,c=(o=t,h=a,l=i,{name:iy(o,h+8,h+16).trim(),parent:iy(o,h+24,h+24+8).trim(),lowerLatitude:o.getFloat64(h+72,l),upperLatitude:o.getFloat64(h+88,l),lowerLongitude:o.getFloat64(h+104,l),upperLongitude:o.getFloat64(h+120,l),latitudeInterval:o.getFloat64(h+136,l),longitudeInterval:o.getFloat64(h+152,l),gridNodeCount:o.getInt32(h+168,l)}),u=function(t,e,i,s,a){var n=e+176,r=16;!1===a&&(r=8);for(var o=[],h=0;h<i.gridNodeCount;h++){var l={latitudeShift:t.getFloat32(n+h*r,s),longitudeShift:t.getFloat32(n+h*r+4,s)};!1!==a&&(l.latitudeAccuracy=t.getFloat32(n+h*r+8,s),l.longitudeAccuracy=t.getFloat32(n+h*r+12,s)),o.push(l)}return o}(t,a,c,i,s),d=Math.round(1+(c.upperLongitude-c.lowerLongitude)/c.longitudeInterval),f=Math.round(1+(c.upperLatitude-c.lowerLatitude)/c.latitudeInterval);n.push({ll:[i_(c.lowerLongitude),i_(c.lowerLatitude)],del:[i_(c.longitudeInterval),i_(c.latitudeInterval)],lim:[d,f],count:c.gridNodeCount,cvs:u.map(function(t){return[i_(t.longitudeShift),i_(t.latitudeShift)]})});var p=16;!1===s&&(p=8),a+=176+c.gridNodeCount*p}return n}(u,f,d,r),m={header:f,subgrids:p},id[s]=m,m):{ready:ip(t,e)}},transform:iA,mgrs:{forward:iO,inverse:function(t){var e=iD(iq(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:ik},version:"__VERSION__"});!function(t){t.Proj.projections.add(iH),t.Proj.projections.add(iV),t.Proj.projections.add(iZ),t.Proj.projections.add(i0),t.Proj.projections.add(i2),t.Proj.projections.add(i4),t.Proj.projections.add(i3),t.Proj.projections.add(i8),t.Proj.projections.add(i5),t.Proj.projections.add(sn),t.Proj.projections.add(so),t.Proj.projections.add(sl),t.Proj.projections.add(sc),t.Proj.projections.add(su),t.Proj.projections.add(sd),t.Proj.projections.add(sf),t.Proj.projections.add(sp),t.Proj.projections.add(sm),t.Proj.projections.add(sg),t.Proj.projections.add(s_),t.Proj.projections.add(sy),t.Proj.projections.add(sM),t.Proj.projections.add(sv),t.Proj.projections.add(sw),t.Proj.projections.add(sP),t.Proj.projections.add(sN),t.Proj.projections.add(sI),t.Proj.projections.add(sO),t.Proj.projections.add(sk),t.Proj.projections.add(sL),t.Proj.projections.add(sF)}(sU);var sW=function(t,e){return Number(t.toFixed(e))},sH=function(t,e,i){i&&"function"==typeof i&&i(t,e)},sX={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},sY=function(t){"number"==typeof t&&cancelAnimationFrame(t)},sK=function(t){t.mounted&&(sY(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function sQ(t,e,i,s){if(t.mounted){var a=new Date().getTime();sK(t),t.animation=function(){if(!t.mounted)return sY(t.animation);var n=new Date().getTime()-a,r=(0,sX[e])(n/i);n>=i?(s(1),t.animation=null):t.animation&&(s(r),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function sV(t,e,i,s){var a,n,r,o=(a=e.scale,n=e.positionX,r=e.positionY,!(Number.isNaN(a)||Number.isNaN(n)||Number.isNaN(r)));if(t.mounted&&o){var h=t.setTransformState,l=t.transformState,c=l.scale,u=l.positionX,d=l.positionY,f=e.scale-c,p=e.positionX-u,m=e.positionY-d;0===i?h(e.scale,e.positionX,e.positionY):sQ(t,s,i,function(t){h(c+f*t,u+p*t,d+m*t)})}}var sZ=function(t,e,i,s,a,n,r){var o=t>e?i*(r?1:.5):0,h=s>a?n*(r?1:.5):0;return{minPositionX:t-e-o,maxPositionX:o,minPositionY:s-a-h,maxPositionY:h}},sJ=function(t,e){var i,s,a,n,r,o,h=t.wrapperComponent,l=t.contentComponent,c=t.setup.centerZoomedOut;if(!h||!l)throw Error("Components are not mounted");var u=(i=h.offsetWidth,s=h.offsetHeight,a=l.offsetWidth,n=l.offsetHeight,{wrapperWidth:i,wrapperHeight:s,newContentWidth:r=a*e,newDiffWidth:i-r,newContentHeight:o=n*e,newDiffHeight:s-o}),d=u.wrapperWidth,f=u.wrapperHeight;return sZ(d,u.newContentWidth,u.newDiffWidth,f,u.newContentHeight,u.newDiffHeight,!!c)},s$=function(t,e,i,s){return s?t<e?sW(e,2):t>i?sW(i,2):sW(t,2):sW(t,2)},s0=function(t,e){var i=sJ(t,e);return t.bounds=i,i};function s1(t,e,i,s,a,n,r){var o=i.minPositionX,h=i.minPositionY,l=i.maxPositionX,c=i.maxPositionY,u=0,d=0;return r&&(u=a,d=n),{x:s$(t,o-u,l+u,s),y:s$(e,h-d,c+d,s)}}function s2(t,e,i,s,a,n){var r=t.transformState,o=r.scale,h=r.positionX,l=r.positionY,c=s-o;return"number"!=typeof e||"number"!=typeof i?(console.error("Mouse X and Y position were not provided!"),{x:h,y:l}):s1(h-e*c,l-i*c,a,n,0,0,null)}function s4(t,e,i,s,a){var n=e-(a?s:0);return!Number.isNaN(i)&&t>=i?i:!Number.isNaN(e)&&t<=n?n:t}var s3=function(t,e){var i=t.setup.panning.excluded,s=t.isInitialized,a=t.wrapperComponent,n=e.target,r="shadowRoot"in n&&"composedPath"in e?e.composedPath().some(function(t){return t instanceof Element&&(null==a?void 0:a.contains(t))}):null==a?void 0:a.contains(n);return!(!(s&&n&&r)||aS(n,i))},s8=function(t){var e=t.isInitialized,i=t.isPanning,s=t.setup.panning.disabled;return!!(e&&i&&!s)},s5=function(t,e){var i=t.transformState,s=i.positionX,a=i.positionY;t.isPanning=!0,t.startCoords={x:e.clientX-s,y:e.clientY-a}},s6=function(t,e){var i=e.touches,s=t.transformState,a=s.positionX,n=s.positionY;t.isPanning=!0,1===i.length&&(t.startCoords={x:i[0].clientX-a,y:i[0].clientY-n})};function s9(t,e,i,s,a){var n=t.setup.limitToBounds,r=t.wrapperComponent,o=t.bounds,h=t.transformState,l=h.scale,c=h.positionX,u=h.positionY;if(null!==r&&null!==o&&(e!==c||i!==u)){var d=s1(e,i,o,n,s,a,r),f=d.x,p=d.y;t.setTransformState(l,f,p)}}var s7=function(t,e,i){var s=t.startCoords,a=t.transformState,n=t.setup.panning,r=n.lockAxisX,o=n.lockAxisY,h=a.positionX,l=a.positionY;if(!s)return{x:h,y:l};var c=e-s.x,u=i-s.y;return{x:r?h:c,y:o?l:u}},at=function(t,e){var i=t.setup,s=t.transformState.scale,a=i.minScale,n=i.disablePadding;return e>0&&s>=a&&!n?e:0},ae=function(t){var e=t.mounted,i=t.setup,s=i.disabled,a=i.velocityAnimation,n=t.transformState.scale;return!!(!a.disabled||n>1||!s||e)},ai=function(t){var e=t.mounted,i=t.velocity,s=t.bounds,a=t.setup,n=a.disabled,r=a.velocityAnimation,o=t.transformState.scale;return!!(!r.disabled||o>1||!n||e)&&!!i&&!!s};function as(t,e,i,s,a,n,r,o,h,l){if(a){if(e>r&&i>r){var c=r+(t-r)*l;return c>h?h:c<r?r:c}if(e<n&&i<n){var c=n+(t-n)*l;return c<o?o:c>n?n:c}}return s?e:s$(t,n,r,a)}function aa(t,e){var i=t.transformState.scale;sK(t),s0(t,i),void 0!==window.TouchEvent&&e instanceof TouchEvent?s6(t,e):s5(t,e)}function an(t,e){var i=t.transformState.scale,s=t.setup,a=s.minScale,n=s.alignmentAnimation,r=n.disabled,o=n.sizeX,h=n.sizeY,l=n.animationTime,c=n.animationType;if(!(r||i<a||!o&&!h)){var u=function(t){var e=t.transformState,i=e.positionX,s=e.positionY,a=e.scale,n=t.setup,r=n.disabled,o=n.limitToBounds,h=n.centerZoomedOut,l=t.wrapperComponent;if(!r&&l&&t.bounds){var c=t.bounds,u=c.maxPositionX,d=c.minPositionX,f=c.maxPositionY,p=c.minPositionY,m=i>u?l.offsetWidth:t.setup.minPositionX||0,g=s>f?l.offsetHeight:t.setup.minPositionY||0,_=s2(t,m,g,a,t.bounds,o||h),y=_.x,M=_.y;return{scale:a,positionX:i>u||i<d?y:i,positionY:s>f||s<p?M:s}}}(t);u&&sV(t,u,null!=e?e:l,c)}}function ar(t,e,i){var s=t.startCoords,a=t.setup.alignmentAnimation,n=a.sizeX,r=a.sizeY;if(s){var o=s7(t,e,i),h=o.x,l=o.y,c=at(t,n),u=at(t,r);!function(t,e){if(ae(t)){var i=t.lastMousePosition,s=t.velocityTime,a=t.setup,n=t.wrapperComponent,r=a.velocityAnimation.equalToMove,o=Date.now();if(i&&s&&n){var h=r?Math.min(1,n.offsetWidth/window.innerWidth):1,l=e.x-i.x,c=e.y-i.y,u=Math.sqrt(l*l+c*c)/(o-s);t.velocity={velocityX:l/h,velocityY:c/h,total:u}}t.lastMousePosition=e,t.velocityTime=o}}(t,{x:h,y:l}),s9(t,h,l,c,u)}}function ao(t,e,i,s){var a=t.setup,n=a.minScale,r=a.maxScale,o=a.limitToBounds,h=s4(sW(e,2),n,r,0,!1),l=s0(t,h),c=s2(t,i,s,h,l,o);return{scale:h,positionX:c.x,positionY:c.y}}function ah(t,e,i){var s=t.transformState.scale,a=t.wrapperComponent,n=t.setup,r=n.minScale,o=n.limitToBounds,h=n.zoomAnimation,l=h.disabled,c=h.animationTime,u=h.animationType,d=l||s>=r;if((s>=1||o)&&an(t),!d&&a&&t.mounted){var f=ao(t,r,e||a.offsetWidth/2,i||a.offsetHeight/2);f&&sV(t,f,c,u)}}var al=function(){return(al=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function ac(t,e,i){if(i||2==arguments.length)for(var s,a=0,n=e.length;a<n;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var au={scale:1,positionX:0,positionY:0},ad={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},af={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},ap=function(t){var e,i,s,a;return{previousScale:null!=(e=t.initialScale)?e:au.scale,scale:null!=(i=t.initialScale)?i:au.scale,positionX:null!=(s=t.initialPositionX)?s:au.positionX,positionY:null!=(a=t.initialPositionY)?a:au.positionY}},am=function(t){var e=al({},ad);return Object.keys(t).forEach(function(i){var s=void 0!==t[i];if(void 0!==ad[i]&&s){var a=Object.prototype.toString.call(ad[i]);"[object Object]"===a?e[i]=al(al({},ad[i]),t[i]):"[object Array]"===a?e[i]=ac(ac([],ad[i],!0),t[i],!0):e[i]=t[i]}}),e},ag=function(t,e,i){var s=t.transformState.scale,a=t.wrapperComponent,n=t.setup,r=n.maxScale,o=n.minScale,h=n.zoomAnimation,l=n.smooth,c=h.size;if(!a)throw Error("Wrapper is not mounted");return s4(sW(l?s*Math.exp(e*i):s+e*i,3),o,r,c,!1)};function a_(t,e,i,s,a){var n=t.wrapperComponent,r=t.transformState,o=r.scale,h=r.positionX,l=r.positionY;if(!n)return console.error("No WrapperComponent found");var c=n.offsetWidth,u=n.offsetHeight,d=ag(t,e,i),f=ao(t,d,(c/2-h)/o,(u/2-l)/o);if(!f)return console.error("Error during zoom event. New transformation state was not calculated.");sV(t,f,s,a)}function ay(t,e,i,s){var a=t.setup,n=t.wrapperComponent,r=a.limitToBounds,o=ap(t.props),h=t.transformState,l=h.scale,c=h.positionX,u=h.positionY;if(n){var d=sJ(t,o.scale),f=s1(o.positionX,o.positionY,d,r,0,0,n),p={scale:o.scale,positionX:f.x,positionY:f.y};(l!==o.scale||c!==o.positionX||u!==o.positionY)&&(null==s||s(),sV(t,p,e,i))}}var aM=function(t){return{instance:t,zoomIn:function(e,i,s){void 0===e&&(e=.5),void 0===i&&(i=300),void 0===s&&(s="easeOut"),a_(t,1,e,i,s)},zoomOut:function(e,i,s){void 0===e&&(e=.5),void 0===i&&(i=300),void 0===s&&(s="easeOut"),a_(t,-1,e,i,s)},setTransform:function(e,i,s,a,n){void 0===a&&(a=300),void 0===n&&(n="easeOut");var r=t.transformState,o=r.positionX,h=r.positionY,l=r.scale,c=t.wrapperComponent,u=t.contentComponent;!t.setup.disabled&&c&&u&&sV(t,{positionX:Number.isNaN(e)?o:e,positionY:Number.isNaN(i)?h:i,scale:Number.isNaN(s)?l:s},a,n)},resetTransform:function(e,i){void 0===e&&(e=200),void 0===i&&(i="easeOut"),ay(t,e,i)},centerView:function(e,i,s){void 0===i&&(i=200),void 0===s&&(s="easeOut");var a=t.transformState,n=t.wrapperComponent,r=t.contentComponent;n&&r&&sV(t,ab(e||a.scale,n,r),i,s)},zoomToElement:function(e,i,s,a){void 0===s&&(s=600),void 0===a&&(a="easeOut"),sK(t);var n=t.wrapperComponent,r="string"==typeof e?document.getElementById(e):e;if(n&&r&&n.contains(r)){var o=function(t,e,i){var s,a,n,r,o,h=t.wrapperComponent,l=t.contentComponent,c=t.transformState,u=t.setup,d=u.limitToBounds,f=u.minScale,p=u.maxScale;if(!h||!l)return c;var m=h.getBoundingClientRect(),g=e.getBoundingClientRect(),_=(s=e.getBoundingClientRect(),a=h.getBoundingClientRect(),n=l.getBoundingClientRect(),r=a.x*c.scale,o=a.y*c.scale,{x:(s.x-n.x+r)/c.scale,y:(s.y-n.y+o)/c.scale}),y=_.x,M=_.y,v=g.width/c.scale,w=g.height/c.scale,x=h.offsetWidth/v,S=h.offsetHeight/w,E=s4(i||Math.min(x,S),f,p,0,!1),b=(m.width-v*E)/2,P=(m.height-w*E)/2,G=s1((m.left-y)*E+b,(m.top-M)*E+P,sJ(t,E),d,0,0,h);return{positionX:G.x,positionY:G.y,scale:E}}(t,r,i);sV(t,o,s,a)}}}},av=function(t){var e={};return Object.assign(e,{instance:t,state:t.transformState}),Object.assign(e,aM(t)),e};function aw(){try{return{get passive(){return!1}}}catch(t){return!1}}var ax=".".concat(af.wrapperClass),aS=function(t,e){return e.some(function(e){return t.matches("".concat(ax," ").concat(e,", ").concat(ax," .").concat(e,", ").concat(ax," ").concat(e," *, ").concat(ax," .").concat(e," *"))})},aE=function(t){t&&clearTimeout(t)},ab=function(t,e,i){var s=i.offsetWidth*t,a=i.offsetHeight*t;return{scale:t,positionX:(e.offsetWidth-s)/2,positionY:(e.offsetHeight-a)/2}},aP=function(t,e){var i=t.setup.wheel,s=i.disabled,a=i.wheelDisabled,n=i.touchPadDisabled,r=i.excluded,o=t.isInitialized,h=t.isPanning,l=e.target;return!(!(o&&!h&&!s&&l)||a&&!e.ctrlKey||n&&e.ctrlKey||aS(l,r))};function aG(t,e,i){var s=e.getBoundingClientRect(),a=0,n=0;if("clientX"in t)a=(t.clientX-s.left)/i,n=(t.clientY-s.top)/i;else{var r=t.touches[0];a=(r.clientX-s.left)/i,n=(r.clientY-s.top)/i}return(Number.isNaN(a)||Number.isNaN(n))&&console.error("No mouse or touch offset found"),{x:a,y:n}}var aA=function(t,e,i,s,a){var n=t.transformState.scale,r=t.wrapperComponent,o=t.setup,h=o.maxScale,l=o.minScale,c=o.zoomAnimation,u=o.disablePadding,d=c.size,f=c.disabled;if(!r)throw Error("Wrapper is not mounted");var p=n+e*i;return a?p:s4(sW(p,3),l,h,d,!s&&!f&&!u)},aC=function(t,e){var i=t.previousWheelEvent,s=t.transformState.scale,a=t.setup,n=a.maxScale,r=a.minScale;return!!i&&(!!(s<n)||!!(s>r)||Math.sign(i.deltaY)!==Math.sign(e.deltaY)||!!(i.deltaY>0)&&!!(i.deltaY<e.deltaY)||!!(i.deltaY<0)&&!!(i.deltaY>e.deltaY)||Math.sign(i.deltaY)!==Math.sign(e.deltaY))},aN=function(t,e){var i=t.setup.pinch,s=i.disabled,a=i.excluded,n=t.isInitialized,r=e.target;return!(!(n&&!s&&r)||aS(r,a))},aI=function(t){var e=t.setup.pinch.disabled,i=t.isInitialized,s=t.pinchStartDistance;return!!(i&&!e&&s)},aR=function(t,e,i){var s=i.getBoundingClientRect(),a=t.touches,n=sW(a[0].clientX-s.left,5),r=sW(a[0].clientY-s.top,5);return{x:(n+sW(a[1].clientX-s.left,5))/2/e,y:(r+sW(a[1].clientY-s.top,5))/2/e}},aT=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},aO=function(t,e){var i=t.pinchStartScale,s=t.pinchStartDistance,a=t.setup,n=a.maxScale,r=a.minScale,o=a.zoomAnimation,h=a.disablePadding,l=o.size,c=o.disabled;if(!i||null===s||!e)throw Error("Pinch touches distance was not provided");return e<0?t.transformState.scale:s4(sW(e/s*i,2),r,n,l,!c&&!h)},ak=function(t,e){var i=t.props,s=i.onWheelStart,a=i.onZoomStart;t.wheelStopEventTimer||(sK(t),sH(av(t),e,s),sH(av(t),e,a))},aj=function(t,e){var i,s=t.props,a=s.onWheel,n=s.onZoom,r=t.contentComponent,o=t.setup,h=t.transformState.scale,l=o.limitToBounds,c=o.centerZoomedOut,u=o.zoomAnimation,d=o.wheel,f=o.disablePadding,p=o.smooth,m=u.size,g=u.disabled,_=d.step,y=d.smoothStep;if(!r)throw Error("Component not mounted");e.preventDefault(),e.stopPropagation();var M=aA(t,(i=e?e.deltaY<0?1:-1:0,i),p?y*Math.abs(e.deltaY):_,!e.ctrlKey);if(h!==M){var v=s0(t,M),w=aG(e,r,h),x=s2(t,w.x,w.y,M,v,l&&(g||0===m||c||f)),S=x.x,E=x.y;t.previousWheelEvent=e,t.setTransformState(M,S,E),sH(av(t),e,a),sH(av(t),e,n)}},aL=function(t,e){var i=t.props,s=i.onWheelStop,a=i.onZoomStop;aE(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(ah(t,e.x,e.y),t.wheelAnimationTimer=null)},100),aC(t,e)&&(aE(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,sH(av(t),e,s),sH(av(t),e,a))},160))},aD=function(t){for(var e=0,i=0,s=0;s<2;s+=1)e+=t.touches[s].clientX,i+=t.touches[s].clientY;return{x:e/2,y:i/2}},az=function(t,e){var i=aT(e);t.pinchStartDistance=i,t.lastDistance=i,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var s=aD(e);t.pinchLastCenterX=s.x,t.pinchLastCenterY=s.y,sK(t)},aq=function(t,e){var i=t.contentComponent,s=t.pinchStartDistance,a=t.wrapperComponent,n=t.transformState.scale,r=t.setup,o=r.limitToBounds,h=r.centerZoomedOut,l=r.zoomAnimation,c=r.alignmentAnimation,u=l.disabled,d=l.size;if(null!==s&&i){var f=aR(e,n,i);if(Number.isFinite(f.x)&&Number.isFinite(f.y)){var p=aT(e),m=aO(t,p),g=aD(e),_=g.x-(t.pinchLastCenterX||0),y=g.y-(t.pinchLastCenterY||0);if(m!==n||0!==_||0!==y){t.pinchLastCenterX=g.x,t.pinchLastCenterY=g.y;var M=s0(t,m),v=s2(t,f.x,f.y,m,M,o&&(u||0===d||h)),w=v.x,x=v.y;t.pinchMidpoint=f,t.lastDistance=p;var S=c.sizeX,E=c.sizeY,b=s1(w+_,x+y,M,o,at(t,S),at(t,E),a),P=b.x,G=b.y;t.setTransformState(m,P,G)}}}},aB=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,ah(t,null==e?void 0:e.x,null==e?void 0:e.y)},aF=function(t,e){var i=t.props.onZoomStop,s=t.setup.doubleClick.animationTime;aE(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,sH(av(t),e,i)},s)},aU=function(t,e){var i=t.props,s=i.onZoomStart,a=i.onZoom,n=t.setup.doubleClick,r=n.animationTime,o=n.animationType;sH(av(t),e,s),ay(t,r,o,function(){return sH(av(t),e,a)}),aF(t,e)},aW=function(t,e){var i=t.isInitialized,s=t.setup,a=t.wrapperComponent,n=s.doubleClick,r=n.disabled,o=n.excluded,h=e.target,l=null==a?void 0:a.contains(h);return!(!(i&&h&&l&&!r)||aS(h,o))},aH=function(t){var e=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(t){e.props=t,s0(e,e.transformState.scale),e.setup=am(t)},this.initializeWindowEvents=function(){var t,i,s=aw(),a=null==(t=e.wrapperComponent)?void 0:t.ownerDocument,n=null==a?void 0:a.defaultView;null==(i=e.wrapperComponent)||i.addEventListener("wheel",e.onWheelPanning,s),null==n||n.addEventListener("mousedown",e.onPanningStart,s),null==n||n.addEventListener("mousemove",e.onPanning,s),null==n||n.addEventListener("mouseup",e.onPanningStop,s),null==a||a.addEventListener("mouseleave",e.clearPanning,s),null==n||n.addEventListener("keyup",e.setKeyUnPressed,s),null==n||n.addEventListener("keydown",e.setKeyPressed,s)},this.cleanupWindowEvents=function(){var t,i,s=aw(),a=null==(t=e.wrapperComponent)?void 0:t.ownerDocument,n=null==a?void 0:a.defaultView;null==n||n.removeEventListener("mousedown",e.onPanningStart,s),null==n||n.removeEventListener("mousemove",e.onPanning,s),null==n||n.removeEventListener("mouseup",e.onPanningStop,s),null==a||a.removeEventListener("mouseleave",e.clearPanning,s),null==n||n.removeEventListener("keyup",e.setKeyUnPressed,s),null==n||n.removeEventListener("keydown",e.setKeyPressed,s),document.removeEventListener("mouseleave",e.clearPanning,s),sK(e),null==(i=e.observer)||i.disconnect()},this.handleInitializeWrapperEvents=function(t){var i=aw();t.addEventListener("wheel",e.onWheelZoom,i),t.addEventListener("dblclick",e.onDoubleClick,i),t.addEventListener("touchstart",e.onTouchPanningStart,i),t.addEventListener("touchmove",e.onTouchPanning,i),t.addEventListener("touchend",e.onTouchPanningStop,i)},this.handleInitialize=function(t,i){var s=!1,a=e.setup.centerOnInit,n=function(t,e){for(var i=0;i<t.length;i++)if(t[i].target===e)return!0;return!1};e.applyTransformation(),e.onInitCallbacks.forEach(function(t){t(av(e))}),e.observer=new ResizeObserver(function(r){if(n(r,t)||n(r,i))if(a&&!s){var o=i.offsetWidth,h=i.offsetHeight;(o>0||h>0)&&(s=!0,e.setCenter())}else sK(e),s0(e,e.transformState.scale),an(e,0)}),e.observer.observe(t),e.observer.observe(i)},this.onWheelZoom=function(t){!e.setup.disabled&&aP(e,t)&&e.isPressingKeys(e.setup.wheel.activationKeys)&&(ak(e,t),aj(e,t),aL(e,t))},this.onWheelPanning=function(t){var i=e.setup,s=i.disabled,a=i.wheel,n=i.panning;if(e.wrapperComponent&&e.contentComponent&&!s&&a.wheelDisabled&&!n.disabled&&n.wheelPanning&&!t.ctrlKey){t.preventDefault(),t.stopPropagation();var r=e.transformState,o=r.positionX,h=r.positionY,l=o-t.deltaX,c=h-t.deltaY,u=n.lockAxisX?o:l,d=n.lockAxisY?h:c,f=e.setup.alignmentAnimation,p=f.sizeX,m=f.sizeY,g=at(e,p),_=at(e,m);(u!==o||d!==h)&&s9(e,u,d,g,_)}},this.onPanningStart=function(t){var i=e.setup.disabled,s=e.props.onPanningStart;!i&&s3(e,t)&&e.isPressingKeys(e.setup.panning.activationKeys)&&(0!==t.button||e.setup.panning.allowLeftClickPan)&&(1!==t.button||e.setup.panning.allowMiddleClickPan)&&(2!==t.button||e.setup.panning.allowRightClickPan)&&(t.preventDefault(),t.stopPropagation(),sK(e),aa(e,t),sH(av(e),t,s))},this.onPanning=function(t){var i=e.setup.disabled,s=e.props.onPanning;!i&&s8(e)&&e.isPressingKeys(e.setup.panning.activationKeys)&&(t.preventDefault(),t.stopPropagation(),ar(e,t.clientX,t.clientY),sH(av(e),t,s))},this.onPanningStop=function(t){var i=e.props.onPanningStop;e.isPanning&&(!function(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,i=t.velocity,s=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var n=null==s?void 0:s.getBoundingClientRect(),r=null==a?void 0:a.getBoundingClientRect(),o=(null==n?void 0:n.width)||0,h=(null==n?void 0:n.height)||0,l=(null==r?void 0:r.width)||0,c=(null==r?void 0:r.height)||0;!e&&i&&(null==i?void 0:i.total)>.1&&(o<l||h<c)?function(t){var e=t.velocity,i=t.bounds,s=t.setup,a=t.wrapperComponent;if(ai(t)&&e&&i&&a){var n,r,o,h,l=e.velocityX,c=e.velocityY,u=e.total,d=i.maxPositionX,f=i.minPositionX,p=i.maxPositionY,m=i.minPositionY,g=s.limitToBounds,_=s.alignmentAnimation,y=s.zoomAnimation,M=s.panning,v=M.lockAxisY,w=M.lockAxisX,x=y.animationType,S=_.sizeX,E=_.sizeY,b=_.velocityAlignmentTime,P=Math.max((r=(n=t.setup.velocityAnimation).equalToMove,o=n.animationTime,h=n.sensitivity,r?o*u*h:o),b),G=at(t,S),A=at(t,E),C=G*a.offsetWidth/100,N=A*a.offsetHeight/100,I=d+C,R=f-C,T=p+N,O=m-N,k=t.transformState,j=new Date().getTime();sQ(t,x,P,function(e){var i=t.transformState,s=i.scale,a=i.positionX,n=i.positionY,r=new Date().getTime()-j,o=1-(0,sX[_.animationType])(Math.min(1,r/b)),h=1-e,u=a+l*h,y=n+c*h,M=as(u,k.positionX,a,w,g,f,d,R,I,o),x=as(y,k.positionY,n,v,g,m,p,O,T,o);(a!==u||n!==y)&&t.setTransformState(s,M,x)})}}(t):an(t)}}(e),sH(av(e),t,i))},this.onPinchStart=function(t){var i=e.setup.disabled,s=e.props,a=s.onPinchingStart,n=s.onZoomStart;!i&&aN(e,t)&&(az(e,t),sK(e),sH(av(e),t,a),sH(av(e),t,n))},this.onPinch=function(t){var i=e.setup.disabled,s=e.props,a=s.onPinching,n=s.onZoom;!i&&aI(e)&&(t.preventDefault(),t.stopPropagation(),aq(e,t),sH(av(e),t,a),sH(av(e),t,n))},this.onPinchStop=function(t){var i=e.props,s=i.onPinchingStop,a=i.onZoomStop;e.pinchStartScale&&(aB(e),sH(av(e),t,s),sH(av(e),t,a))},this.onTouchPanningStart=function(t){var i=e.setup.disabled,s=e.props.onPanningStart;if(!i&&s3(e,t)&&!(e.lastTouch&&new Date-e.lastTouch<200&&1===t.touches.length)){e.lastTouch=+new Date,sK(e);var a=t.touches,n=1===a.length,r=2===a.length;n&&(sK(e),aa(e,t),sH(av(e),t,s)),r&&e.onPinchStart(t)}},this.onTouchPanning=function(t){var i=e.setup.disabled,s=e.props.onPanning;if(e.isPanning&&1===t.touches.length){if(i||!s8(e))return;t.preventDefault(),t.stopPropagation();var a=t.touches[0];ar(e,a.clientX,a.clientY),sH(av(e),t,s)}else t.touches.length>1&&e.onPinch(t)},this.onTouchPanningStop=function(t){e.onPanningStop(t),e.onPinchStop(t)},this.onDoubleClick=function(t){!e.setup.disabled&&aW(e,t)&&function(t,e){var i,s=t.setup,a=t.doubleClickStopEventTimer,n=t.transformState,r=t.contentComponent,o=n.scale,h=t.props,l=h.onZoomStart,c=h.onZoom,u=s.doubleClick,d=u.disabled,f=u.mode,p=u.step,m=u.animationTime,g=u.animationType;if(!d&&!a){if("reset"===f)return aU(t,e);if(!r)return console.error("No ContentComponent found");var _=(i=t.transformState.scale,"toggle"===f?1===i?1:-1:"zoomOut"===f?-1:1),y=ag(t,_,p);if(o!==y){sH(av(t),e,l);var M=aG(e,r,o),v=ao(t,y,M.x,M.y);if(!v)return console.error("Error during zoom event. New transformation state was not calculated.");sH(av(t),e,c),sV(t,v,m,g),aF(t,e)}}}(e,t)},this.clearPanning=function(t){e.isPanning&&e.onPanningStop(t)},this.setKeyPressed=function(t){e.pressedKeys[t.key]=!0},this.setKeyUnPressed=function(t){e.pressedKeys[t.key]=!1},this.isPressingKeys=function(t){return!t.length||!!t.find(function(t){return e.pressedKeys[t]})},this.setTransformState=function(t,i,s){var a=e.props.onTransformed;if(Number.isNaN(t)||Number.isNaN(i)||Number.isNaN(s))console.error("Detected NaN set state values");else{t!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=t),e.transformState.positionX=i,e.transformState.positionY=s,e.applyTransformation();var n=av(e);e.onChangeCallbacks.forEach(function(t){return t(n)}),sH(n,{scale:t,positionX:i,positionY:s},a)}},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var t=ab(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(t.scale,t.positionX,t.positionY)}},this.handleTransformStyles=function(t,i,s){return e.props.customTransform?e.props.customTransform(t,i,s):"translate(".concat(t,"px, ").concat(i,"px) scale(").concat(s,")")},this.applyTransformation=function(){if(e.mounted&&e.contentComponent){var t=e.transformState,i=t.scale,s=t.positionX,a=t.positionY,n=e.handleTransformStyles(s,a,i);e.contentComponent.style.transform=n}},this.getContext=function(){return av(e)},this.onChange=function(t){return e.onChangeCallbacks.has(t)||e.onChangeCallbacks.add(t),function(){e.onChangeCallbacks.delete(t)}},this.onInit=function(t){return e.onInitCallbacks.has(t)||e.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},this.init=function(t,i){e.cleanupWindowEvents(),e.wrapperComponent=t,e.contentComponent=i,s0(e,e.transformState.scale),e.handleInitializeWrapperEvents(t),e.handleInitialize(t,i),e.initializeWindowEvents(),e.isInitialized=!0,sH(av(e),void 0,e.props.onInit)},this.props=t,this.setup=am(this.props),this.transformState=ap(this.props)},aX=a.default.createContext(null),aY=a.default.forwardRef(function(t,e){var i,s,n=(0,a.useRef)(new aH(t)).current,r=(i=t.children,s=aM(n),"function"==typeof i?i(s):i);return(0,a.useImperativeHandle)(e,function(){return aM(n)},[n]),(0,a.useEffect)(function(){n.update(t)},[n,t]),a.default.createElement(aX.Provider,{value:n},r)});a.default.forwardRef(function(t,e){var i,s=(0,a.useRef)(null),n=(0,a.useContext)(aX);return(0,a.useEffect)(function(){return n.onChange(function(t){s.current&&(s.current.style.transform=n.handleTransformStyles(0,0,1/t.instance.transformState.scale))})},[n]),a.default.createElement("div",al({},t,{ref:(i=[s,e],function(t){i.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})})}))});var aK={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  transform: translate3d(0, 0, 0);\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var aQ=function(t){var e=t.children,i=t.wrapperClass,s=t.contentClass,n=t.wrapperStyle,r=t.contentStyle,o=t.wrapperProps,h=t.contentProps,l=(0,a.useContext)(aX),c=l.init,u=l.cleanupWindowEvents,d=(0,a.useRef)(null),f=(0,a.useRef)(null);return(0,a.useEffect)(function(){var t=d.current,e=f.current;return null!==t&&null!==e&&c&&(null==c||c(t,e)),function(){null==u||u()}},[]),a.default.createElement("div",al({},void 0===o?{}:o,{ref:d,className:"".concat(af.wrapperClass," ").concat(aK.wrapper," ").concat(void 0===i?"":i),style:n}),a.default.createElement("div",al({},void 0===h?{}:h,{ref:f,className:"".concat(af.contentClass," ").concat(aK.content," ").concat(void 0===s?"":s),style:r}),e))};let aV={MIN_BOUNDS:sU("GOOGLE",[-179,-56]),MAX_BOUNDS:sU("GOOGLE",[179,71])},aZ=aV.MAX_BOUNDS[0]-aV.MIN_BOUNDS[0],aJ=aV.MAX_BOUNDS[1]-aV.MIN_BOUNDS[1],a$={initialScale:1,minScale:1,maxScale:10,limitToBounds:!0,smooth:!0,wheel:{step:.3},doubleClick:{disabled:!1,mode:"toggle"},pinch:{disabled:!1},panning:{disabled:!1,velocityDisabled:!1},alignmentAnimation:{sizeX:0,sizeY:0,velocityAlignmentTime:600},centerOnInit:!0},a0=(0,a.memo)(function(t){let{unitInfo:s,index:n}=t,r=function(t){let{unitId:e}=t;switch(e){case"p-2":return{lat:-111.8939,lon:40.7607};case"p-4":return{lat:-46.6396,lon:-23.5558};case"p-5":return{lat:-85.3232,lon:51.2538};case"p-7":return{lat:-111.0937,lon:34.0489};case"p-11":return{lat:13.405,lon:52.52};case"p-12":return{lat:138.2529,lon:36.2048};case"p-15":return{lat:-115.1391,lon:36.1716};case"p-17":return{lat:10.7522,lon:59.9139};case"p-25":return{lat:-155.252,lon:19.1621};case"p-27":return{lat:12.4822,lon:41.8967};case"p-29":return{lat:4.3572,lon:50.8477};case"p-33":return{lat:7.4246,lon:43.7384};case"p-37":return{lat:21.0122,lon:52.2297};case"p-44":return{lat:2.2137,lon:46.2276};case"p-52":return{lat:-3.7033,lon:40.4167};case"p-60":return{lat:5.4106,lon:49.9658};case"p-66":return{lat:114.1694,lon:22.3193};case"p-70":return{lat:-9.1393,lon:38.7223};case"p-74":return{lat:35.2433,lon:38.9637};case"p-92":return{lat:105.3188,lon:61.524};case"p-97":return{lat:104.1954,lon:35.8617};case"p-128":return{lat:143.3906,lon:-36.9848};case"p-134":return{lat:33.4299,lon:35.1264};case"p-150":return{lat:14.3754,lon:35.9375};default:return}}({unitId:s.id}),o=(0,a.useMemo)(()=>{if(void 0===r)return null;let[t,e]=sU("GOOGLE",[r.lat,r.lon]);return{xp:(t-aV.MIN_BOUNDS[0])/aZ,yp:(aV.MAX_BOUNDS[1]-e)/aJ}},[r]),h=(0,a.useMemo)(()=>.01*n,[n]);if(!o)return null;let{xp:l,yp:c}=o;return(0,e.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.6,delay:h,type:"spring",stiffness:300,damping:20}},className:"z-10 absolute w-[0.5%] aspect-square -translate-x-1/2 -translate-y-1/2",style:{left:"".concat(100*l,"%"),top:"".concat(100*c,"%")},children:(0,e.jsxs)(eS,{children:[(0,e.jsx)(eE,{asChild:!0,children:(0,e.jsxs)("div",{className:"group relative size-full cursor-pointer",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-primary rounded-full"}),(0,e.jsx)("div",{className:"absolute inset-0 bg-primary/60 rounded-full scale-200 animate-ping pointer-events-none",style:{animationDelay:"".concat((.5*l+.5*c)*2,"s"),animationDuration:"2s"}})]})}),(0,e.jsx)(eb,{className:"bg-card/95 shadow-2xl shadow-primary/10 backdrop-blur-sm p-4 border-primary/20 w-56",sideOffset:8,children:(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("p",{className:"font-bold text-foreground text-sm tracking-wide",children:s.name})}),(0,e.jsx)(eP.default,{href:"/unit/".concat(s.id),className:"group block",children:(0,e.jsx)(i.motion.div,{whileHover:{scale:1.05},className:"relative mx-auto rounded-lg w-16 h-16 overflow-hidden transition-all duration-300",children:(0,e.jsx)("img",{className:"w-full h-full object-cover",src:s.logoUrl,alt:"".concat(s.name," logo"),loading:"lazy",decoding:"async"})})}),(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)(eP.default,{href:"/unit/".concat(s.id),className:"inline-flex items-center text-primary hover:text-primary/80 text-xs transition-colors duration-200",children:"View Unit Details "})})]})})]})})}),a1=(0,a.memo)(function(t){let{unitsInfo:n}=t,[r,o]=(0,a.useState)(!1),h=(0,a.useCallback)(()=>{o(window.innerWidth<768)},[]);(0,a.useEffect)(()=>(h(),window.addEventListener("resize",h,{passive:!0}),()=>window.removeEventListener("resize",h)),[h]);let l=(0,a.useMemo)(()=>({zoomInHandler:t=>()=>t(.5),zoomOutHandler:t=>()=>t(.5),resetHandler:t=>()=>t()}),[]),c=(0,a.useMemo)(()=>n.map((t,i)=>(0,e.jsx)(a0,{unitInfo:t,index:i},t.id)),[n]);return(0,e.jsxs)("section",{className:"relative py-8 min-h-screen",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-cover bg-no-repeat bg-center",style:{backgroundImage:"url(/background-5.png)"}}),(0,e.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-background/90 to-background"}),(0,e.jsxs)("div",{className:"relative mx-auto px-4 container",children:[(0,e.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mx-auto mb-8 max-w-4xl text-center",children:[(0,e.jsx)(s.Badge,{variant:"outline",className:"mb-6",children:"GLOBAL PRESENCE"}),(0,e.jsx)("h1",{className:"mb-6 font-bold text-3xl md:text-4xl",children:"501st Legion Units Worldwide"}),(0,e.jsx)("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"From the Core Worlds to the Outer Rim  The Empire's finest are stationed across the galaxy. Explore our units and find your local garrison."})]}),(0,e.jsxs)(i.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"group relative mx-auto container",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 group-hover:from-primary/25 to-primary/10 group-hover:to-primary/15 blur-xl rounded-2xl transition-all duration-500"}),(0,e.jsxs)("div",{className:"relative bg-card/80 shadow-2xl shadow-primary/5 backdrop-blur-sm border border-primary/20 hover:border-primary/30 rounded-2xl overflow-hidden transition-all duration-500",children:[(0,e.jsx)(aY,{...a$,children:t=>{let{zoomIn:s,zoomOut:a,resetTransform:n}=t;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"top-4 right-4 z-20 absolute flex flex-col gap-2",children:[(0,e.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l.zoomInHandler(s),className:"bg-card/90 shadow-lg backdrop-blur-sm p-2 border border-primary/20 hover:border-primary/40 rounded-lg transition-all duration-200",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,e.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l.zoomOutHandler(a),className:"bg-card/90 shadow-lg backdrop-blur-sm p-2 border border-primary/20 hover:border-primary/40 rounded-lg transition-all duration-200",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})})}),(0,e.jsx)(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l.resetHandler(n),className:"bg-card/90 shadow-lg backdrop-blur-sm p-2 border border-primary/20 hover:border-primary/40 rounded-lg transition-all duration-200",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,e.jsx)(aQ,{wrapperClass:"w-full h-full overflow-hidden",contentClass:"w-full h-full relative",children:(0,e.jsxs)("div",{className:"relative w-full h-full",children:[(0,e.jsx)(i.motion.img,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1},src:"/world-map.svg",className:"dark:invert w-screen filter contrast-25",alt:"World map showing 501st Legion unit locations",draggable:!1,loading:"eager",decoding:"async"}),(0,e.jsx)("div",{className:"absolute inset-0",children:c}),(0,e.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-card/20 via-transparent to-card/10 pointer-events-none"})]})})]})}}),(0,e.jsx)("div",{className:"bg-card/60 backdrop-blur-sm p-4 border-primary/10 border-t",children:(0,e.jsxs)("div",{className:"flex sm:flex-row flex-col justify-between items-center gap-4 text-muted-foreground text-sm",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"bg-primary border border-primary-foreground/20 rounded-full w-3 h-3"}),(0,e.jsx)("div",{className:"absolute inset-0 bg-primary/60 rounded-full animate-ping"})]}),(0,e.jsx)("span",{children:"Active 501st Legion Unit"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsxs)("p",{className:"font-semibold text-foreground",children:[n.length," Units Worldwide"]}),(0,e.jsx)("p",{className:"text-xs",children:r?"Pinch to zoom  Drag to pan  Tap markers for details":"Mouse wheel to zoom  Drag to pan  Click markers for details"})]})]})})]})]}),(0,e.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-8 text-center",children:(0,e.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Can't find a unit near you?"," ",(0,e.jsx)(eP.default,{href:"/faq",className:"text-primary hover:text-primary/80 transition-colors",children:"Learn how to start a new unit"})]})})]})]})})}]);